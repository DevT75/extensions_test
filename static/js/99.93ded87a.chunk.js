"use strict";(self.webpackChunkrewards=self.webpackChunkrewards||[]).push([[99],{7716:(t,e,n)=>{n.d(e,{G:()=>m,Y:()=>f});var r=n(8676);function a(t){const e=t.transactions?.map((t=>"string"===typeof t?t:(0,r.uP)(t)));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}var i=n(3340);async function s(t,e){const n=e.blockTag??"latest",r=e.includeTransactions??!1,s=void 0!==e.blockNumber?(0,i.cK)(e.blockNumber):void 0,o=await t({method:"eth_getBlockByNumber",params:[s||n,r]});if(!o)throw new Error("Block not found");return a(o)}async function o(t){const e=await t({method:"eth_maxPriorityFeePerGas"});return(0,i.uU)(e)}var c=n(2364),u=n(6325),d=n(9108);async function l(t){const{client:e,chain:n,percentMultiplier:r}=t,a=(0,c.getRpcClient)({client:e,chain:n}),s=await async function(t){const e=await t({method:"eth_gasPrice"});return(0,i.uU)(e)}(a);return s+(r?s/BigInt(100)*BigInt(r):0n)}var p=n(8156);const y=[78600,2040,248,9372,841,842,2016,9768];async function f(t){const[e,n,r]=await Promise.all([(0,u.r)(t.maxFeePerGas),(0,u.r)(t.maxPriorityFeePerGas),(0,u.r)(t.gasPrice)]);if(void 0!==e&&void 0!==n)return{maxFeePerGas:e,maxPriorityFeePerGas:n};if(r)return{gasPrice:r};const a=await m(t.client,t.chain);return t.chain.experimental?.increaseZeroByteCount?a.gasPrice?{gasPrice:(0,p.d)(a.gasPrice)}:{maxFeePerGas:e??(0,p.d)(a.maxFeePerGas??0n),maxPriorityFeePerGas:n??(0,p.d)(a.maxPriorityFeePerGas??0n)}:a.gasPrice?a:{maxFeePerGas:e??a.maxFeePerGas,maxPriorityFeePerGas:n??a.maxPriorityFeePerGas}}async function m(t,e){if(!y.includes(e.id)){const n=await async function(t,e){let n=null,r=null;const a=(0,c.getRpcClient)({client:t,chain:e}),[i,u]=await Promise.all([s(a,{blockTag:"latest"}),o(a).catch((()=>null))]),l=i?.baseFeePerGas??0n,p=e.id;if(220===p||1220===p)return{maxFeePerGas:null,maxPriorityFeePerGas:null};80002===p||137===p?r=await async function(t){const e=function(t){switch(t){case 137:return"https://gasstation.polygon.technology/v2";case 80002:return"https://gasstation-testnet.polygon.technology/v2"}}(t);try{const t=(await(await fetch(e)).json()).fast.maxPriorityFee;if(t>0){const e=Number.parseFloat(t).toFixed(9);return(0,d.J1)(e,9)}}catch(n){console.error("failed to fetch gas",n)}return h}(p):null!==u&&(r=u);if(null==r)return{maxFeePerGas:null,maxPriorityFeePerGas:null};r=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const n=t/BigInt(100)*BigInt(e);return t+n}(r),n=2n*l+r,(42220===p||44787===p||62320===p)&&(r=n);return{maxFeePerGas:n,maxPriorityFeePerGas:r}}(t,e);if(null!==n.maxFeePerGas&&null!==n.maxPriorityFeePerGas)return{maxFeePerGas:n.maxFeePerGas,maxPriorityFeePerGas:n.maxPriorityFeePerGas}}return{gasPrice:await l({client:t,chain:e,percentMultiplier:10})}}const h=31n},8156:(t,e,n)=>{function r(t){if(0n===t||0n===(t&t-1n))return t;let e=1n;for(;t>0n;)t>>=1n,e<<=1n;return e}n.d(e,{d:()=>r})},9002:(t,e,n)=>{n.d(e,{encode:()=>a});const r=new WeakMap;async function a(t){if(r.has(t))return r.get(t);const e=(async()=>{const[e,r,{concatHex:a}]=await Promise.all([i(t),s(t),Promise.resolve().then(n.bind(n,1299))]);return r?a([e,r]):e})();return r.set(t,e),e}async function i(t){if(void 0===t.data)return"0x";if("function"===typeof t.data){const e=await t.data();return e||"0x"}return t.data}async function s(t){if(t.extraCallData){if("function"===typeof t.extraCallData){const e=await t.extraCallData();if(!e)return;if(!e.startsWith("0x"))throw Error("Invalid extra calldata - must be a hex string");if("0x"===e)return;return e}if(!t.extraCallData.startsWith("0x"))throw Error("Invalid extra calldata - must be a hex string");return t.extraCallData}}},8137:(t,e,n)=>{n.d(e,{$:()=>bt});var r=n(7716),a=n(2364),i=n(6325),s=n(9002),o=n(4776);const c={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function u(t){const e={};return"undefined"!==typeof t.authorizationList&&(e.authorizationList=t.authorizationList.map((t=>({address:t.contractAddress,r:t.r,s:t.s,chainId:(0,o.cK)(t.chainId),nonce:(0,o.cK)(t.nonce),..."undefined"!==typeof t.yParity?{yParity:(0,o.cK)(t.yParity)}:{},..."undefined"!==typeof t.v&&"undefined"===typeof t.yParity?{v:(0,o.cK)(t.v)}:{}})))),"undefined"!==typeof t.accessList&&(e.accessList=t.accessList),"undefined"!==typeof t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes),"undefined"!==typeof t.blobs&&("string"!==typeof t.blobs[0]?e.blobs=t.blobs.map((t=>(0,o.My)(t))):e.blobs=t.blobs),"undefined"!==typeof t.data&&(e.data=t.data),"undefined"!==typeof t.from&&(e.from=t.from),"undefined"!==typeof t.gas&&(e.gas=(0,o.cK)(t.gas)),"undefined"!==typeof t.gasPrice&&(e.gasPrice=(0,o.cK)(t.gasPrice)),"undefined"!==typeof t.maxFeePerBlobGas&&(e.maxFeePerBlobGas=(0,o.cK)(t.maxFeePerBlobGas)),"undefined"!==typeof t.maxFeePerGas&&(e.maxFeePerGas=(0,o.cK)(t.maxFeePerGas)),"undefined"!==typeof t.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=(0,o.cK)(t.maxPriorityFeePerGas)),"undefined"!==typeof t.nonce&&(e.nonce=(0,o.cK)(t.nonce)),"undefined"!==typeof t.to&&(e.to=t.to),"undefined"!==typeof t.type&&(e.type=c[t.type]),"undefined"!==typeof t.value&&(e.value=(0,o.cK)(t.value)),e}var d=n(8156),l=n(1750),p=n(2365);function y(t){const e=[],n=t.length;for(let r=0;r<n;r++){const n=t[r],a=(0,p.B)(n);e.push(a)}return e}var f=n(9036),m=n(8112),h=n(2381);var g=n(6511);const b="0x3e429396",v=[],w=[{type:"tuple[]",components:[{type:"address",name:"implementation"},{type:"tuple",name:"config",components:[{type:"bool",name:"registerInstallationCallback"},{type:"bytes4[]",name:"requiredInterfaces"},{type:"bytes4[]",name:"supportedInterfaces"},{type:"tuple[]",name:"callbackFunctions",components:[{type:"bytes4",name:"selector"}]},{type:"tuple[]",name:"fallbackFunctions",components:[{type:"bytes4",name:"selector"},{type:"uint256",name:"permissionBits"}]}]}]}];var x=n(9703);const P="https://{clientId}.ipfscdn.io/ipfs/{cid}";async function A(t){let e;if(t.uri.startsWith("ar://")){const{resolveArweaveScheme:r}=await n.e(564).then(n.bind(n,1564));e=r(t)}else e=function(t){if(t.uri.startsWith("ipfs://")){const e=t.client.config?.storage?.gatewayUrl??P,n=t.client.clientId,r=function(t){if(!t.startsWith("ipfs://"))return t;const e=t.search(/\/(Qm|baf)/i);return t.slice(e+1)}(t.uri);let a;return"undefined"!==typeof globalThis&&"Application"in globalThis&&(a=globalThis.Application.applicationId),`${e.replace("{clientId}",n).split("/ipfs")[0]}/ipfs/${r}${a?`?bundleId=${a}`:""}`}if(t.uri.startsWith("http"))return t.uri;throw new Error('Invalid URI scheme, expected "ipfs://" or "http(s)://"')}(t);const r=await(0,x.KI)(t.client)(e,{keepalive:t.client.config?.storage?.fetch?.keepalive,headers:t.client.config?.storage?.fetch?.headers,requestTimeoutMs:t.client.config?.storage?.fetch?.requestTimeoutMs??6e4});if(!r.ok)throw r.body?.cancel(),new Error(`Failed to download file: ${r.statusText}`);return r}const $="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",G=$.length,I=(()=>$.charAt(0))(),C=(()=>Math.log(256)/Math.log(G))();var B=n(2002);let E,O,L=0;const z=[];let U,T,M=null,F=0,S={};const j=0;let D,k,V=0;const _=[];let N,W;const R={useRecords:!1,mapsAsObjects:!0};class K{constructor(){Object.assign(this,R)}decodeKey(t){return t}decode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;O=e>-1?e:t.length,L=0,F=0,V=0,T=null,M=z,D=null,E=t;try{W=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(n){if(E=null,t instanceof Uint8Array)throw n;throw new Error(`Source must be a Uint8Array or Buffer but was a ${t&&"object"===typeof t?t.constructor.name:typeof t}`)}return this instanceof K?(S=this,N=this.sharedValues&&(this.pack?new Array(this.maxPrivatePackedValues||16).concat(this.sharedValues):this.sharedValues),(!U||U.length>0)&&(U=[])):(S=R,(!U||U.length>0)&&(U=[]),N=null),function(){try{const t=H();if(D){if(L>=D.postBundlePosition){const t=new Error("Unexpected bundle position");throw t.incomplete=!0,t}L=D.postBundlePosition,D=null}if(L!==O){if(L>O){const t=new Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}throw new Error("Data read, but end of buffer not reached")}return U=null,E=null,k&&(k=null),t}catch(n){throw E=null,k=null,U=null,(n instanceof RangeError||n.message.startsWith("Unexpected end of buffer"))&&(n.incomplete=!0),n}}()}}function H(){let t=E[L++];const e=t>>5;if(t&=31,t>23){if(24!==t)throw new Error(`Unknown token ${t}`);t=E[L++]}switch(e){case 0:return t;case 1:return~t;case 2:return n=t,S.copyBuffers?Uint8Array.prototype.slice.call(E,L,L+=n):E.subarray(L,L+=n);case 3:if(V>=L)return T.slice(L-j,(L+=t)-j);if(0===V&&O<140&&t<32){const e=t<16?Y(t):function(t){const e=L,n=new Array(t);for(let r=0;r<t;r++){const t=E[L++];if((128&t)>0)return void(L=e);n[r]=t}return q.apply(String,n)}(t);if(null!==e)return e}return function(t){let e;if(t<16&&(e=Y(t)))return e;if(t>64&&decoder)return decoder.decode(E.subarray(L,L+=t));const n=L+t,r=[];for(e="";L<n;){const t=E[L++];if(0===(128&t))r.push(t);else if(192===(224&t)){const e=63&E[L++];r.push((31&t)<<6|e)}else if(224===(240&t)){const e=63&E[L++],n=63&E[L++];r.push((31&t)<<12|e<<6|n)}else if(240===(248&t)){let e=(7&t)<<18|(63&E[L++])<<12|(63&E[L++])<<6|63&E[L++];e>65535&&(e-=65536,r.push(e>>>10&1023|55296),e=56320|1023&e),r.push(e)}else r.push(t);r.length>=4096&&(e+=q.apply(String,r),r.length=0)}return r.length>0&&(e+=q.apply(String,r)),e}(t);case 4:{const e=new Array(t);for(let n=0;n<t;n++)e[n]=H();return e}case 5:{const e={};for(let n=0;n<t;n++)e[Z(H())]=H();return e}default:if(Number.isNaN(t)){const t=new Error("Unexpected end of CBOR data");throw t.incomplete=!0,t}throw new Error(`Unknown CBOR token ${t}`)}var n}function Z(t){if("string"===typeof t)return"__proto__"===t?"__proto_":t;if("object"!==typeof t)return t.toString();throw new Error("Invalid property name type "+typeof t)}const q=String.fromCharCode;function Y(t){if(t<4){if(t<2){if(0===t)return"";const e=E[L++];return(128&e)>1?void(L-=1):q(e)}const e=E[L++],n=E[L++];if((128&e)>0||(128&n)>0)return void(L-=2);if(t<3)return q(e,n);const r=E[L++];return(128&r)>0?void(L-=3):q(e,n,r)}const e=E[L++],n=E[L++],r=E[L++],a=E[L++];if((128&e)>0||(128&n)>0||(128&r)>0||(128&a)>0)return void(L-=4);if(t<6){if(4===t)return q(e,n,r,a);const i=E[L++];return(128&i)>0?void(L-=5):q(e,n,r,a,i)}if(t<8){const i=E[L++],s=E[L++];if((128&i)>0||(128&s)>0)return void(L-=6);if(t<7)return q(e,n,r,a,i,s);const o=E[L++];return(128&o)>0?void(L-=7):q(e,n,r,a,i,s,o)}const i=E[L++],s=E[L++],o=E[L++],c=E[L++];if((128&i)>0||(128&s)>0||(128&o)>0||(128&c)>0)return void(L-=8);if(t<10){if(8===t)return q(e,n,r,a,i,s,o,c);const u=E[L++];return(128&u)>0?void(L-=9):q(e,n,r,a,i,s,o,c,u)}if(t<12){const u=E[L++],d=E[L++];if((128&u)>0||(128&d)>0)return void(L-=10);if(t<11)return q(e,n,r,a,i,s,o,c,u,d);const l=E[L++];return(128&l)>0?void(L-=11):q(e,n,r,a,i,s,o,c,u,d,l)}const u=E[L++],d=E[L++],l=E[L++],p=E[L++];if((128&u)>0||(128&d)>0||(128&l)>0||(128&p)>0)return void(L-=12);if(t<14){if(12===t)return q(e,n,r,a,i,s,o,c,u,d,l,p);const y=E[L++];return(128&y)>0?void(L-=13):q(e,n,r,a,i,s,o,c,u,d,l,p,y)}const y=E[L++],f=E[L++];if((128&y)>0||(128&f)>0)return void(L-=14);if(t<15)return q(e,n,r,a,i,s,o,c,u,d,l,p,y,f);const m=E[L++];if(!((128&m)>0))return q(e,n,r,a,i,s,o,c,u,d,l,p,y,f,m);L-=15}const J={Error:Error,RegExp:RegExp};_[27]=t=>(J[t[0]]||Error)(t[1],t[2]);_[28]=t=>{k||(k=new Map,k.id=0);const e=k.id++;let n;n=E[L]>>5===4?[]:{};const r={target:n};k.set(e,r);const a=t();return r.used?Object.assign(n,a):(r.target=a,a)};const X=new Array(147);for(let vt=0;vt<256;vt++)X[vt]=(()=>Number(`1e${Math.floor(45.15-.30103*vt)}`))();const Q=(new K).decode;var tt=n(7779);function et(t){const e=(0,B.aT)(function(t){return(0,tt.q)(t,{strict:!1})?t:`0x${t}`}(t)),n=256*e[e.length-2]+e[e.length-1],r=e.length-2-n;if(r<0||r>e.length)return;const a=e.slice(r,-2),i=Q(a);return"ipfs"in i?`ipfs://${function(t){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let e=0,n=0,r=0;const a=t.length;for(;r!==a&&0===t[r];)r++,e++;const i=(a-r)*C+1>>>0,s=new Uint8Array(i);for(;r!==a;){let e=t[r]||0,a=0;for(let t=i-1;(0!==e||a<n)&&-1!==t;t--,a++)e+=256*(s[t]||0)>>>0,s[t]=e%G>>>0,e=e/G>>>0;if(0!==e)throw new Error("Non-zero carry");n=a,r++}let o=i-n;for(;o!==i&&0===s[o];)o++;let c=I.repeat(e);for(;o<i;++o)c+=$.charAt(s[o]||0);return c}(i.ipfs)}`:void 0}var nt=n(1018);const rt=new WeakMap;function at(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://contract.thirdweb.com/abi";if(rt.has(t))return rt.get(t);const n=(async()=>{if(t.abi)return t.abi;try{return await async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://contract.thirdweb.com/abi";const n=await(0,x.KI)(t.client)(`${e}/${t.chain.id}/${t.address}`),r=await n.json();if(!r||r.error)throw new Error(`Failed to resolve ABI from contract API. ${r.error||""}`);return r}(t,e)}catch{return await async function(t,e,n){const[r,a,i,s,o]=await Promise.all([e||it(t),ut(t),dt(t),lt(t),pt(t)]),c=[...new Set([...a,...i,...s,...o])];if(!c.length)return r;const u=await async function(t){return Promise.all(t.plugins.map((e=>{const n={...t.contract,address:e};return t.resolveSubAbi?t.resolveSubAbi(n):it(n)})))}({contract:t,plugins:c,resolveSubAbi:n});return function(t){let e=t.pluginAbis.flat().filter((t=>"constructor"!==t.type));t.rootAbi&&(e=[...t.rootAbi||[],...e].filter(Boolean));const n=[...new Set(y(e))];return function(t){const e=(0,m.e)(t),n=[],r=t.length;for(let a=0;a<r;a++){const r=t[a];(0,f.WL)(r)||n.push((0,h.uT)(r,e))}return n}(n)}({rootAbi:r,pluginAbis:u})}(t)}})();return rt.set(t,n),n}async function it(t){const e=await(0,nt._)(t);if("0x"===e){const{id:e,name:n}=t.chain;throw new Error(`Failed to load contract bytecode. Make sure the contract [${t.address}] exists on the chain [${n||"Unknown Chain"} (chain id: ${e})]`)}const n=et(e);if(!n)return[];try{const e=await A({uri:n,client:t.client});return(await e.json()).output.abi}catch{return[]}}const st={inputs:[],name:"getAllPlugins",outputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin[]",name:"registered",type:"tuple[]"}],stateMutability:"view",type:"function"},ot={inputs:[],name:"getAllExtensions",outputs:[{components:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IExtension.ExtensionMetadata",name:"metadata",type:"tuple"},{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"}],internalType:"struct IExtension.ExtensionFunction[]",name:"functions",type:"tuple[]"}],internalType:"struct IExtension.Extension[]",name:"allExtensions",type:"tuple[]"}],stateMutability:"view",type:"function"},ct={inputs:[],name:"facets",outputs:[{components:[{internalType:"address",name:"facetAddress",type:"address"},{internalType:"bytes4[]",name:"functionSelectors",type:"bytes4[]"}],type:"tuple[]"}],stateMutability:"view",type:"function"};async function ut(t){try{const{readContract:e}=await Promise.resolve().then(n.bind(n,6511)),r=await e({contract:t,method:st});return r.length?[...new Set(r.map((t=>t.pluginAddress)))]:[]}catch{}return[]}async function dt(t){try{const{readContract:e}=await Promise.resolve().then(n.bind(n,6511)),r=await e({contract:t,method:ot});return r.length?[...new Set(r.map((t=>t.metadata.implementation)))]:[]}catch{}return[]}async function lt(t){try{const e=await async function(t){return(0,g.readContract)({contract:t.contract,method:[b,v,w],params:[]})}({contract:t});return e.length?[...new Set(e.map((t=>t.implementation)))]:[]}catch{}return[]}async function pt(t){try{const{readContract:e}=await Promise.resolve().then(n.bind(n,6511)),r=await e({contract:t,method:ct});return r.length?r.map((t=>t.facetAddress)):[]}catch{}return[]}var yt=n(7717);async function ft(t){const{error:e,contract:n}=t;if("object"===typeof e){const t=e;if(t.data){if("0x"!==t.data&&(0,tt.q)(t.data)){let e=n?.abi;n&&!e&&(e=await at(n).catch((()=>{})));const r=(0,l.W)({data:t.data,abi:e});return new mt(`${r.errorName}${r.args?` - ${r.args}`:""}`,n)}return new mt(`Execution Reverted: ${(0,yt.A)(t)}`,n)}}return e}class mt extends Error{constructor(t,e){let n=t;super(n),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chainId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TransactionError",this.contractAddress=e?.address,this.chainId=e?.chain?.id,this.message=n}}const ht=new WeakMap;async function gt(t){const e=t.from??t.account?.address??void 0,r={...t.transaction,from:e};if(ht.has(r))return ht.get(r);const{account:a}=t,s=(async()=>{const r=await(0,i.r)(t.transaction.gas);if(void 0!==r)return r;if(a?.estimateGas)try{let e=await a.estimateGas(t.transaction);return t.transaction.chain.experimental?.increaseZeroByteCount&&(e=(0,d.d)(e)),e}catch(m){throw await ft({error:m,contract:t.transaction.__contract})}const{encode:s}=await Promise.resolve().then(n.bind(n,9002)),[o,c,l]=await Promise.all([s(t.transaction),(0,i.r)(t.transaction.to),(0,i.r)(t.transaction.value)]),[{getRpcClient:p},{eth_estimateGas:y}]=await Promise.all([Promise.resolve().then(n.bind(n,2364)),n.e(618).then(n.bind(n,9618))]),f=p(t.transaction);try{let n=await y(f,u({to:c,data:o,from:e,value:l}));return t.transaction.chain.experimental?.increaseZeroByteCount&&(n=(0,d.d)(n)),n}catch(m){throw await ft({error:m,contract:t.transaction.__contract})}})();return ht.set(r,s),s}async function bt(t){const e=(0,a.getRpcClient)(t.transaction),o=t.transaction.chain.id,c=t.from;let[u,d,l,p,y,f,m]=await Promise.all([(0,s.encode)(t.transaction),(async()=>{const r=await(0,i.r)(t.transaction.nonce);return void 0!==r?r:c?await n.e(338).then(n.bind(n,7338)).then((t=>{let{eth_getTransactionCount:n}=t;return n(e,{address:c,blockTag:"pending"})})):void 0})(),gt(t),(0,r.Y)(t.transaction),(0,i.r)(t.transaction.to),(0,i.r)(t.transaction.accessList),(0,i.r)(t.transaction.value)]);const h=await(0,i.r)(t.transaction.extraGas);return h&&(l+=h),{to:y,chainId:o,data:u,gas:l,nonce:d,accessList:f,value:m,...p}}},1438:(t,e,n)=>{n.d(e,{f:()=>S,sendEip712Transaction:()=>M,a:()=>F});var r=n(6109),a=n(7714),i=n(9466),s=n(4776);function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex";const n=c(t),r=(0,a.l)(new Uint8Array(n.length));return n.encode(r),"hex"===e?(0,s.My)(r.bytes):r.bytes}function c(t){return Array.isArray(t)?function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=u(e);return{length:e<=55?1+e:1+n+e,encode(r){e<=55?r.pushByte(192+e):(r.pushByte(247+n),1===n?r.pushUint8(e):2===n?r.pushUint16(e):3===n?r.pushUint24(e):r.pushUint32(e));for(const{encode:e}of t)e(r)}}}(t.map((t=>c(t)))):function(t){const e="string"===typeof t?(0,i.aT)(t):t,n=u(e.length),r=1===e.length&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length;return{length:r,encode(t){1===e.length&&e[0]<128?t.pushBytes(e):e.length<=55?(t.pushByte(128+e.length),t.pushBytes(e)):(t.pushByte(183+n),1===n?t.pushUint8(e.length):2===n?t.pushUint16(e.length):3===n?t.pushUint24(e.length):t.pushUint32(e.length),t.pushBytes(e))}}}(t)}function u(t){if(t<256)return 1;if(t<65536)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new r.C("Length is too large.")}var d=n(2364),l=n(3340);function p(t){if(["string","number"].includes(typeof t)&&!Number.isInteger(Number(t)))throw new Error(`Expected value to be an integer to convert to a bigint, got ${t} of type ${typeof t}`);return t instanceof Uint8Array?BigInt((0,l.EY)(t)):BigInt(t)}var y=n(1299),f=n(6325),m=n(9002),h=n(8137),g=n(9394),b=n(9845),v=n(4487);const w=(t,e,n)=>t&e^t&n^e&n;class x extends v.Vw{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,v.O8)(this.buffer)}update(t){(0,b.t2)(this);const{view:e,buffer:n,blockLen:r}=this,a=(t=(0,v.ZJ)(t)).length;for(let i=0;i<a;){const s=Math.min(r-this.pos,a-i);if(s!==r)n.set(t.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(e,0),this.pos=0);else{const e=(0,v.O8)(t);for(;r<=a-i;i+=r)this.process(e,i)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,b.t2)(this),(0,b.CG)(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:a}=this;let{pos:i}=this;e[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(let d=i;d<r;d++)e[d]=0;!function(t,e,n,r){if("function"===typeof t.setBigUint64)return t.setBigUint64(e,n,r);const a=BigInt(32),i=BigInt(4294967295),s=Number(n>>a&i),o=Number(n&i),c=r?4:0,u=r?0:4;t.setUint32(e+c,s,r),t.setUint32(e+u,o,r)}(n,r-8,BigInt(8*this.length),a),this.process(n,0);const s=(0,v.O8)(t),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=o/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)s.setUint32(4*d,u[d],a)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:a,destroyed:i,pos:s}=this;return t.length=r,t.pos=s,t.finished=a,t.destroyed=i,r%e&&t.buffer.set(n),t}}const P=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),A=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$=new Uint32Array(64);class G extends x{constructor(){super(64,32,8,!1),this.A=0|A[0],this.B=0|A[1],this.C=0|A[2],this.D=0|A[3],this.E=0|A[4],this.F=0|A[5],this.G=0|A[6],this.H=0|A[7]}get(){const{A:t,B:e,C:n,D:r,E:a,F:i,G:s,H:o}=this;return[t,e,n,r,a,i,s,o]}set(t,e,n,r,a,i,s,o){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|a,this.F=0|i,this.G=0|s,this.H=0|o}process(t,e){for(let l=0;l<16;l++,e+=4)$[l]=t.getUint32(e,!1);for(let l=16;l<64;l++){const t=$[l-15],e=$[l-2],n=(0,v.Ow)(t,7)^(0,v.Ow)(t,18)^t>>>3,r=(0,v.Ow)(e,17)^(0,v.Ow)(e,19)^e>>>10;$[l]=r+$[l-7]+n+$[l-16]|0}let{A:n,B:r,C:a,D:i,E:s,F:o,G:c,H:u}=this;for(let l=0;l<64;l++){const t=u+((0,v.Ow)(s,6)^(0,v.Ow)(s,11)^(0,v.Ow)(s,25))+((d=s)&o^~d&c)+P[l]+$[l]|0,e=((0,v.Ow)(n,2)^(0,v.Ow)(n,13)^(0,v.Ow)(n,22))+w(n,r,a)|0;u=c,c=o,o=s,s=i+t|0,i=a,a=r,r=n,n=t+e|0}var d;n=n+this.A|0,r=r+this.B|0,a=a+this.C|0,i=i+this.D|0,s=s+this.E|0,o=o+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,r,a,i,s,o,c,u)}roundClean(){$.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const I=(0,v.ld)((()=>new G));var C=n(1874);const B=32n*n(7913).Au;class E extends r.C{constructor(t){let{givenLength:e,maxBytecodeSize:n}=t;super(`Bytecode cannot be longer than ${n} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class O extends r.C{constructor(t){let{givenLengthInWords:e}=t;super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class L extends r.C{constructor(t){let{givenLength:e}=t;super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function z(t){const e=(0,i.ZJ)(t);if(e.length%32!==0)throw new L({givenLength:e.length});if(e.length>B)throw new E({givenLength:e.length,maxBytecodeSize:B});const n=function(t,e){const n=e||"hex",r=I((0,C.q)(t,{strict:!1})?(0,i.ZJ)(t):t);return"bytes"===n?r:(0,s.nj)(r)}(e),r=(0,i.ZJ)(n),a=e.length/32;if(a%2===0)throw new O({givenLengthInWords:a});const o=(0,i.ZJ)(a),c=(0,g.eV)(o,{size:2}),u=new Uint8Array([1,0]);return r.set(u,0),r.set(c,2),r}const U=50000n,T=t=>{const e=function(t){const{gas:e,nonce:n,to:r,from:a,value:i,maxFeePerGas:s,maxPriorityFeePerGas:o,paymaster:c,paymasterInput:u,gasPerPubdata:d,data:p,factoryDeps:y}=t;return{txType:113n,from:BigInt(a),to:r?BigInt(r):0n,gasLimit:e??0n,gasPerPubdataByteLimit:d??U,maxFeePerGas:s??0n,maxPriorityFeePerGas:o??0n,paymaster:c?BigInt(c):0n,nonce:n?BigInt(n):0n,value:i??0n,data:p||"0x0",factoryDeps:y?.map((t=>(0,l.nj)(z(t))))??[],paymasterInput:u||"0x"}}(t);return{domain:{name:"zkSync",version:"2",chainId:t.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:e}};async function M(t){const{account:e,transaction:n}=t,r=await S(t),a=await F({account:e,eip712Transaction:r,chainId:n.chain.id}),i=(0,d.getRpcClient)(n);return{transactionHash:await async function(t,e){return await t({method:"eth_sendRawTransaction",params:[e]})}(i,a),chain:n.chain,client:n.client}}async function F(t){const{account:e,eip712Transaction:n,chainId:r}=t,a=T(n),i=await e.signTypedData({...a});return function(t){const{chainId:e,gas:n,nonce:r,to:a,from:i,value:s,maxFeePerGas:c,maxPriorityFeePerGas:u,customSignature:d,factoryDeps:p,paymaster:f,paymasterInput:m,gasPerPubdata:h,data:g}=t,b=[r?(0,l.nj)(r):"0x",u?(0,l.nj)(u):"0x",c?(0,l.nj)(c):"0x",n?(0,l.nj)(n):"0x",a??"0x",s?(0,l.nj)(s):"0x",g??"0x0",(0,l.nj)(e),(0,l.nj)(""),(0,l.nj)(""),(0,l.nj)(e),i??"0x",h?(0,l.nj)(h):(0,l.nj)(U),p??[],d??"0x",f&&m?[f,m]:[]];return(0,y.concatHex)(["0x71",o(b)])}({...n,chainId:r,customSignature:i})}async function S(t){const{account:e,transaction:n}=t;let[r,a,i,s,o,c,u]=await Promise.all([(0,m.encode)(n),(0,f.r)(n.to),(0,f.r)(n.value),(0,f.r)(n.gas),(0,f.r)(n.maxFeePerGas),(0,f.r)(n.maxPriorityFeePerGas),(0,f.r)(n.eip712).then((t=>t?.gasPerPubdata))]);if(!s||!o||!c){const t=(0,d.getRpcClient)(n),y=await t({method:"zks_estimateFee",params:[{from:e.address,to:a,data:r,value:i?(0,l.cK)(i):void 0}]});s=p(y.gas_limit);o=2n*p(y.max_fee_per_gas),c=p(y.max_priority_fee_per_gas)||1n,u=2n*p(y.gas_per_pubdata_limit)}return{...await(0,h.$)({transaction:{...n,gas:s,maxFeePerGas:o,maxPriorityFeePerGas:c},from:e.address}),...n.eip712,gasPerPubdata:u,from:e.address}}},1300:(t,e,n)=>{function r(t,e){return e&&(t.__preparedMethod=e.preparedMethod,t.__contract=e.contract),t}n.r(e),n.d(e,{prepareTransaction:()=>r})},6511:(t,e,n)=>{n.r(e),n.d(e,{readContract:()=>d});var r=n(970),a=n(2777),i=n(9363),s=n(3340);var o=n(2364),c=n(8482),u=n(4819);async function d(t){const{contract:e,method:n,params:d}=t,[l,p]=await Promise.all([(async()=>{if(Array.isArray(n))return n;if((0,i.d)(n))return(0,u.v)(n);if("function"===typeof n)return(0,u.v)(await n(e));if("string"===typeof n&&n.startsWith("function ")){const t=(0,r.$)(n);if("function"===t.type)return(0,u.v)(t);throw new Error('"method" passed is not of type "function"')}if(e.abi&&e.abi?.length>0){const t=e.abi?.find((t=>"function"===t.type&&t.name===n));if(t)return(0,u.v)(t)}throw new Error(`Could not resolve method "${n}".`)})(),"function"===typeof d?d():d]);let y;y=0===l[1].length?l[0]:l[0]+(0,c.encodeAbiParameters)(l[1],p).slice(2);const f=(0,o.getRpcClient)({chain:e.chain,client:e.client}),m=await async function(t,e){const{blockNumber:n,blockTag:r,...a}=e,i=(n?(0,s.cK)(n):void 0)||r||"latest";return await t({method:"eth_call",params:e.stateOverrides?[a,i,(o=e.stateOverrides,Object.fromEntries(Object.entries(o).map((t=>{let[e,n]=t;return[e,{balance:n.balance?(0,s.cK)(n.balance):void 0,nonce:n.nonce?(0,s.cK)(n.nonce):void 0,code:n.code,state:n.state,stateDiff:n.stateDiff}]}))))]:[a,i]});var o}(f,{data:y,to:e.address,from:t.from}),h=(0,a.n)(l[2],m);return Array.isArray(h)&&1===h.length?h[0]:h}},9363:(t,e,n)=>{function r(t){return!(!t||"object"!==typeof t||!("type"in t)||"function"!==t.type)}n.d(e,{d:()=>r})},8482:(t,e,n)=>{n.r(e),n.d(e,{encodeAbiParameters:()=>c,encodeAddress:()=>l,prepareParam:()=>u});var r=n(883),a=n(9057),i=n(3423),s=n(3535),o=n(3340);function c(t,e){if(t.length!==e.length)throw new Error("The number of parameters and values must match.");const n=function(t){let{params:e,values:n}=t;const r=[];for(let a=0;a<e.length;a++)r.push(u({param:e[a],value:n[a]}));return r}({params:t,values:e}),r=d(n);return 0===r.length?"0x":r}function u(t){let{param:e,value:n}=t;const i=function(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}(e.type);if(i){const[t,a]=i;return function(t,e){let{length:n,param:a}=e;const i=null===n;if(!Array.isArray(t))throw new Error("Invalid array value.");if(!i&&t.length!==n)throw new Error("Invalid array length.");let s=!1;const c=[];for(let r=0;r<t.length;r++){const e=u({param:a,value:t[r]});e.dynamic&&(s=!0),c.push(e)}if(i||s){const t=d(c);if(i){const e=(0,o.cK)(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?(0,r.xW)([e,t]):e}}if(s)return{dynamic:!0,encoded:t}}return{dynamic:!1,encoded:(0,r.xW)(c.map((t=>{let{encoded:e}=t;return e})))}}(n,{length:t,param:{...e,type:a}})}if("tuple"===e.type)return function(t,e){let{param:n}=e,a=!1;const i=[];for(let r=0;r<n.components.length;r++){const e=n.components[r],s=u({param:e,value:t[Array.isArray(t)?r:e.name]});i.push(s),s.dynamic&&(a=!0)}return{dynamic:a,encoded:a?d(i):(0,r.xW)(i.map((t=>{let{encoded:e}=t;return e})))}}(n,{param:e});if("address"===e.type)return l(n);if("bool"===e.type)return function(t){return{dynamic:!1,encoded:(0,o.db)((0,o.$P)(t))}}(n);if(e.type.startsWith("uint")||e.type.startsWith("int")){return function(t,e){let{signed:n}=e;return{dynamic:!1,encoded:(0,o.cK)(t,{size:32,signed:n})}}(n,{signed:e.type.startsWith("int")})}if(e.type.startsWith("bytes"))return function(t,e){let{param:n}=e;const[,a]=n.type.split("bytes"),i=(0,s.m)(t);if(!a){let e=t;return i%32!==0&&(e=(0,o.db)(e,{dir:"right",size:32*Math.ceil((t.length-2)/2/32)})),{dynamic:!0,encoded:(0,r.xW)([(0,o.db)((0,o.cK)(i,{size:32})),e])}}if(i!==Number.parseInt(a))throw new Error(`Invalid bytes${a} size: ${i}`);return{dynamic:!1,encoded:(0,o.db)(t,{dir:"right"})}}(n,{param:e});if("string"===e.type)return function(t){const e=(0,o.i3)(t),n=Math.ceil((0,s.m)(e)/32),i=[];for(let r=0;r<n;r++)i.push((0,o.db)((0,a.di)(e,32*r,32*(r+1)),{dir:"right"}));return{dynamic:!0,encoded:(0,r.xW)([(0,o.db)((0,o.cK)((0,s.m)(e),{size:32})),...i])}}(n);throw new Error(`Unsupported parameter type: ${e.type}`)}function d(t){let e=0;for(let r=0;r<t.length;r++){const{dynamic:n,encoded:a}=t[r];e+=n?32:(0,s.m)(a)}const n=[],a=[];let i=0;for(let r=0;r<t.length;r++){const{dynamic:c,encoded:u}=t[r];c?(n.push((0,o.cK)(e+i,{size:32})),a.push(u),i+=(0,s.m)(u)):n.push(u)}return(0,r.xW)([...n,...a])}function l(t){if(""!==t&&void 0!==t&&!(0,i.PW)(t))throw new Error(`Invalid address: ${t}`);return{dynamic:!1,encoded:(0,o.db)(t.toLowerCase())}}},4819:(t,e,n)=>{n.d(e,{v:()=>c});var r=n(970),a=n(4591),i=n(5304),s=n(7717);const o=new i.A(4096);function c(t){const e="string"===typeof t?t:(0,s.A)(t);if(o.has(e))return o.get(e);const n="string"===typeof t?(0,r.$)(t):t,i=[(0,a.V)(n),n.inputs,n.outputs];return o.set(e,i),i}},1299:(t,e,n)=>{function r(t){return`0x${t.reduce(((t,e)=>t+e.replace("0x","")),"")}`}n.r(e),n.d(e,{concatHex:()=>r})},6325:(t,e,n)=>{async function r(t){return"function"===typeof t?await t():t}n.d(e,{r:()=>r})},9108:(t,e,n)=>{function r(t,e){let[n,r=""]=t.split(".");const a=n.startsWith("-")?"-":"";if(a&&(n=n.slice(1)),r=r.padEnd(e,"0"),0===e)r[0]&&Number.parseInt(r[0])>=5&&(n=(BigInt(n)+1n).toString()),r="";else if(r.length>e){const t=r[e];if(t&&Number.parseInt(t,10)>=5){const t=BigInt(r.substring(0,e))+1n;r=t.toString().padStart(e,"0"),r.length>e&&(n=(BigInt(n)+1n).toString(),r=r.substring(r.length-e))}else r=r.substring(0,e)}return BigInt(`${a}${n}${r}`)}n.d(e,{J1:()=>r})},6099:(t,e,n)=>{n.d(e,{connectSmartWallet:()=>_t,disconnectSmartWallet:()=>Nt});var r=n(235),a=n(7913),i=n(9893),s=n(8736),o=n(6511);const c="0xdd62ed3e",u=[{type:"address",name:"owner"},{type:"address",name:"spender"}],d=[{type:"uint256"}];var l=n(9108),p=n(970),y=n(8482),f=n(4819),m=n(6325),h=n(1300),g=n(9363);function b(t){const{contract:e,method:n,params:r,...a}=t,i=()=>(async()=>{if(Array.isArray(n))return n;if((0,g.d)(n))return(0,f.v)(n);if("function"===typeof n)return(0,f.v)(await n(e));if("string"===typeof n&&n.startsWith("function ")){const t=(0,p.$)(n);if("function"===t.type)return(0,f.v)(t);throw new Error('"method" passed is not of type "function"')}if(e.abi&&e.abi?.length>0){const t=e.abi?.find((t=>"function"===t.type&&t.name===n));if(t)return(0,f.v)(t)}throw new Error(`Could not resolve method "${n}".`)})();return(0,h.prepareTransaction)({...a,to:e.address,chain:e.chain,client:e.client,data:async()=>{let t;return t=Array.isArray(n)?n:await i(),0===t[1].length?t[0]:t[0]+(0,y.encodeAbiParameters)(t[1],await(0,m.r)(r??[])).slice(2)}},{preparedMethod:i,contract:e})}const v="0x095ea7b3",w=[{type:"address",name:"spender"},{type:"uint256",name:"value"}],x=[{type:"bool"}];function P(t){return function(t){const e=function(t){let e;return()=>(e||(e=t()),e)}((async()=>"asyncParams"in t?await t.asyncParams():t));return b({contract:t.contract,method:[v,w,x],params:async()=>{const t=await e();return[t.spender,t.value]},value:async()=>(await e()).overrides?.value,accessList:async()=>(await e()).overrides?.accessList,gas:async()=>(await e()).overrides?.gas,gasPrice:async()=>(await e()).overrides?.gasPrice,maxFeePerGas:async()=>(await e()).overrides?.maxFeePerGas,maxPriorityFeePerGas:async()=>(await e()).overrides?.maxPriorityFeePerGas,nonce:async()=>(await e()).overrides?.nonce,extraGas:async()=>(await e()).overrides?.extraGas,erc20Value:async()=>(await e()).overrides?.erc20Value})}({contract:t.contract,asyncParams:async()=>{let e;if("amount"in t){const{decimals:r}=await n.e(38).then(n.bind(n,2038)),a=await r(t).catch((()=>18));e=(0,l.J1)(t.amount.toString(),a)}else e=t.amountWei;return{spender:t.spender,value:e,overrides:{erc20Value:{amountWei:e,tokenAddress:t.contract.address}}}}})}var A=n(8137),$=n(1438),G=n(3423);var I=n(1299),C=n(7779),B=n(3340);function E(t){const e=t.domain;return void 0!==e?.chainId&&(0,C.q)(e.chainId)&&(t.domain={...t.domain,chainId:(0,B.ME)(t.domain.chainId)}),t}var O=n(1750),L=n(6356),z=n(8202),U=n(3593);var T=n(9466),M=n(2096),F=n(2678),S=n(7401);const j=S.k;var D=n(3546),k=n(2777),V=n(3303);const _="/docs/contract/decodeEventLog";function N(t){let{param:e,value:n}=t;if("string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))return n;return((0,k.n)([e],n)||[])[0]}var W=n(1874),R=n(4591);function K(t){const{abi:e,args:n=[],name:r}=t,a=(0,W.q)(r,{strict:!1}),i=e.filter((t=>a?"function"===t.type?(0,R.V)(t)===r:"event"===t.type&&j(t)===r:"name"in t&&t.name===r));if(0===i.length)return;if(1===i.length)return i[0];let s;for(const o of i){if(!("inputs"in o))continue;if(!n||0===n.length){if(!o.inputs||0===o.inputs.length)return o;continue}if(!o.inputs)continue;if(0===o.inputs.length)continue;if(o.inputs.length!==n.length)continue;if(n.every(((t,e)=>{const n="inputs"in o&&o.inputs[e];return!!n&&H(t,n)}))){if(s&&"inputs"in s&&s.inputs){const t=Z(o.inputs,s.inputs,n);if(t)throw new L.nM({abiItem:o,type:t[0]},{abiItem:s,type:t[1]})}s=o}}return s||i[0]}function H(t,e){const n=typeof t,r=e.type;switch(r){case"address":return(0,U.P)(t,{strict:!1});case"bool":return"boolean"===n;case"function":case"string":return"string"===n;default:return"tuple"===r&&"components"in e?Object.values(e.components).every(((e,n)=>H(Object.values(t)[n],e))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?"number"===n||"bigint"===n:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?"string"===n||t instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)&&(Array.isArray(t)&&t.every((t=>H(t,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")}))))}}function Z(t,e,n){for(const r in t){const a=t[r],i=e[r];if("tuple"===a.type&&"tuple"===i.type&&"components"in a&&"components"in i)return Z(a.components,i.components,n[r]);const s=[a.type,i.type];if(!(!s.includes("address")||!s.includes("bytes20"))||(s.includes("address")&&s.includes("string")||!(!s.includes("address")||!s.includes("bytes")))&&(0,U.P)(n[r],{strict:!1}))return s}}function q(t){const{abi:e,args:n,logs:r,strict:a=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map((t=>{try{const r=K({abi:e,name:t.topics[0]});if(!r)return null;const s=function(t){const{abi:e,data:n,strict:r,topics:a}=t,i=r??!0,[s,...o]=a;if(!s)throw new L._z({docsPath:_});const c=e.find((t=>"event"===t.type&&s===j((0,V.B)(t))));if(!c||!("name"in c)||"event"!==c.type)throw new L.kE(s,{docsPath:_});const{name:u,inputs:d}=c,l=d?.some((t=>!("name"in t&&t.name)));let p=l?[]:{};const y=d.filter((t=>"indexed"in t&&t.indexed));for(let h=0;h<y.length;h++){const t=y[h],e=o[h];if(!e)throw new L.l3({abiItem:c,param:t});p[l?h:t.name||h]=N({param:t,value:e})}const f=d.filter((t=>!("indexed"in t&&t.indexed)));if(f.length>0)if(n&&"0x"!==n)try{const t=(0,k.n)(f,n);if(t)if(l)p=[...p,...t];else for(let e=0;e<f.length;e++)p[f[e].name]=t[e]}catch(m){if(i){if(m instanceof L.Iy||m instanceof D.SK)throw new L.fo({abiItem:c,data:n,params:f,size:(0,F.E)(n)});throw m}}else if(i)throw new L.fo({abiItem:c,data:"0x",params:f,size:0});return{eventName:u,args:Object.values(p).length>0?p:void 0}}({...t,abi:[r],strict:a});return i&&!i.includes(s.eventName)?null:function(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function a(t,e,n){try{return"address"===t.type?function(t,e){if(!(0,U.P)(t,{strict:!1}))throw new z.M({address:t});if(!(0,U.P)(e,{strict:!1}))throw new z.M({address:e});return t.toLowerCase()===e.toLowerCase()}(e,n):"string"===t.type||"bytes"===t.type?(0,M.S)((0,T.ZJ)(e))===n:e===n}catch{return!1}}if(Array.isArray(e)&&Array.isArray(r))return r.every(((t,r)=>{if(!t)return!0;const i=n[r];if(!i)return!1;return(Array.isArray(t)?t:[t]).some((t=>a(i,t,e[r])))}));return"object"===typeof e&&!Array.isArray(e)&&"object"===typeof r&&!Array.isArray(r)&&Object.entries(r).every((t=>{let[r,i]=t;if(!i)return!0;const s=n.find((t=>t.name===r));if(!s)return!1;return(Array.isArray(i)?i:[i]).some((t=>a(s,t,e[r])))}))}({args:s.args,inputs:r.inputs,matchArgs:n})?{...s,...t}:null}catch(r){let e,n;if(r instanceof L.kE)return null;if(r instanceof L.fo||r instanceof L.l3){if(a)return null;e=r.abiItem.name,n=r.abiItem.inputs?.some((t=>!("name"in t&&t.name)))}return{...t,args:n?[]:{},eventName:e}}})).filter(Boolean)}var Y=n(6109);class J extends Y.C{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}var X=n(1595);const Q="/docs/contract/encodeEventTopics";function tt(t){const{abi:e,eventName:n,args:r}=t;let a=e[0];if(n){const t=K({abi:e,name:n});if(!t)throw new L.M_(n,{docsPath:Q});a=t}if("event"!==a.type)throw new L.M_(void 0,{docsPath:Q});const i=(0,V.B)(a),s=j(i);let o=[];if(r&&"inputs"in a){const t=a.inputs?.filter((t=>"indexed"in t&&t.indexed)),e=Array.isArray(r)?r:Object.values(r).length>0?t?.map((t=>r[t.name]))??[]:[];e.length>0&&(o=t?.map(((t,n)=>Array.isArray(e[n])?e[n].map(((r,a)=>et({param:t,value:e[n][a]}))):e[n]?et({param:t,value:e[n]}):null))??[])}return[s,...o]}function et(t){let{param:e,value:n}=t;if("string"===e.type||"bytes"===e.type)return(0,M.S)((0,T.ZJ)(n));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new J(e.type);return(0,X.h)([e],[n])}function nt(t){const{signature:e}=t;let n;var r;return n=(r=e)&&"object"===typeof r&&"type"in r&&"event"===r.type?e:(0,p.$)(e),{abiEvent:n,hash:(0,S.k)(n),topics:tt({abi:[n],args:t.filters})}}function rt(){return nt({signature:"event UserOperationRevertReason(bytes32 indexed userOpHash, address indexed sender, uint256 nonce, bytes revertReason)",filters:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}})}function at(){return nt({signature:"event PostOpRevertReason(bytes32 indexed userOpHash, address indexed sender, uint256 nonce, bytes revertReason)",filters:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}})}var it=n(9703),st=n(7717);var ot=n(635);const ct=()=>{const t=BigInt(Math.floor(4294967296*Math.random())),e=BigInt(Math.floor(4294967296*Math.random())),n=BigInt(Math.floor(4294967296*Math.random())),r=BigInt(Math.floor(4294967296*Math.random())),a=BigInt(Math.floor(4294967296*Math.random())),i=BigInt(Math.floor(4294967296*Math.random()));return t<<BigInt(160)|e<<BigInt(128)|n<<BigInt(96)|r<<BigInt(64)|a<<BigInt(32)|i};function ut(t){return Object.fromEntries(Object.entries(t).map((t=>{let[e,n]=t;return[e,void 0===n||null===n||(0,C.q)(n)?n:(0,B.nj)(n)]})))}async function dt(t){const e=await pt({...t,operation:"eth_estimateUserOperationGas",params:[ut(t.userOp),t.options.entrypointAddress??ot.uh]});return{preVerificationGas:(0,B.uU)(e.preVerificationGas),verificationGas:(0,B.uU)(e.verificationGas),verificationGasLimit:(0,B.uU)(e.verificationGasLimit),callGasLimit:(0,B.uU)(e.callGasLimit)+ot.L8,paymasterVerificationGasLimit:void 0!==e.paymasterVerificationGasLimit?(0,B.uU)(e.paymasterVerificationGasLimit):void 0,paymasterPostOpGasLimit:void 0!==e.paymasterPostOpGasLimit?(0,B.uU)(e.paymasterPostOpGasLimit):void 0}}async function lt(t){const e=await async function(t){const e=await pt({options:t,operation:"eth_getUserOperationReceipt",params:[t.userOpHash]});if(!e)return;return function(t){const{receipt:e}=t,n={...e,transactionHash:e.transactionHash,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs,to:e.to?e.to:null,transactionIndex:e.transactionIndex,status:e.status,type:e.type};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),{...t,receipt:n,userOpHash:t.userOpHash,actualGasCost:BigInt(t.actualGasCost),actualGasUsed:BigInt(t.actualGasUsed),nonce:BigInt(t.nonce)}}(e)}(t);if(e){if(!1===e.success){const t=function(t){const{logs:e,events:n,strict:r}=t;return q({logs:e,abi:n.map((t=>t.abiEvent)),strict:r})}({events:[rt(),at()],logs:e.logs}),n=t[0]?.args?.revertReason;if(!n)throw new Error(`UserOp failed at txHash: ${e.receipt.transactionHash}`);const r=(0,O.W)({data:n});throw new Error(`UserOp failed with reason: '${r.args.join(",")}' at txHash: ${e.receipt.transactionHash}`)}return e.receipt}}async function pt(t){const{options:e,operation:n,params:r}=t;ot.Oi&&console.debug(`>>> sending ${n} with payload:`,r);const a="v0.6"===(0,ot.Fn)(e.entrypointAddress||ot.uh)?"v1":"v2",i=e.bundlerUrl??(0,ot.RZ)(e.chain,a),s=(0,it.KI)(e.client),o=await s(i,{method:"POST",headers:{"Content-Type":"application/json"},body:(0,st.A)({jsonrpc:"2.0",id:1,method:n,params:r})}),c=await o.json();if(!o.ok||c.error){let t=c.error||o.statusText;"object"===typeof t&&(t=JSON.stringify(t));const e=c.code||"UNKNOWN";throw new Error(`${n} error: ${t}\nStatus: ${o.status}\nCode: ${e}`)}return ot.Oi&&console.debug(`<<< ${n} result:`,c),c.result}function yt(t){const{adminAddress:e,factoryContract:n,createAccountOverride:r,accountSalt:a}=t;return r?r(n):b({contract:n,method:"function createAccount(address, bytes) returns (address)",params:[e,(0,B.i3)(a??"")]})}function ft(t){const{accountContract:e,transaction:n,executeOverride:r}=t;return r?r(e,n):b({contract:e,method:"function execute(address, uint256, bytes)",params:[n.to||"",n.value||0n,n.data||"0x"]})}var mt=n(883);const ht="0x35567e1a",gt=[{type:"address",name:"sender"},{type:"uint192",name:"key"}],bt=[{type:"uint256",name:"nonce"}];const vt="0xa6193531",wt=[{type:"tuple",name:"userOp",components:[{type:"address",name:"sender"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"uint256",name:"callGasLimit"},{type:"uint256",name:"verificationGasLimit"},{type:"uint256",name:"preVerificationGas"},{type:"uint256",name:"maxFeePerGas"},{type:"uint256",name:"maxPriorityFeePerGas"},{type:"bytes",name:"paymasterAndData"},{type:"bytes",name:"signature"}]}],xt=[{type:"bytes32"}];const Pt="0x22cdde4c",At=[{type:"tuple",name:"userOp",components:[{type:"address",name:"sender"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"bytes32",name:"accountGasLimits"},{type:"uint256",name:"preVerificationGas"},{type:"bytes32",name:"gasFees"},{type:"bytes",name:"paymasterAndData"},{type:"bytes",name:"signature"}]}],$t=[{type:"bytes32"}];var Gt=n(7716),It=n(9002),Ct=n(9961),Bt=n(2002),Et=n(9394),Ot=n(4776);function Lt(t){return(0,mt.xW)([(0,Et.eV)((0,Ot.nj)(t.verificationGasLimit),{size:16}),(0,Et.eV)((0,Ot.nj)(t.callGasLimit),{size:16})])}function zt(t){return(0,mt.xW)([(0,Et.eV)((0,Ot.nj)(t.maxPriorityFeePerGas),{size:16}),(0,Et.eV)((0,Ot.nj)(t.maxFeePerGas),{size:16})])}function Ut(t){return t.paymaster?(0,mt.xW)([t.paymaster,(0,Et.eV)((0,Ot.nj)(t.paymasterVerificationGasLimit||BigInt(0)),{size:16}),(0,Et.eV)((0,Ot.nj)(t.paymasterPostOpGasLimit||BigInt(0)),{size:16}),t.paymasterData||"0x"]):"0x"}const Tt=t=>{return{sender:t.sender,nonce:t.nonce,initCode:(e=t,e.factory?(0,mt.xW)([e.factory,e.factoryData||"0x"]):"0x"),callData:t.callData,accountGasLimits:Lt(t),preVerificationGas:t.preVerificationGas,gasFees:zt(t),paymasterAndData:Ut(t),signature:t.signature};var e};async function Mt(t){const{userOp:e,paymasterOverride:n,client:r,chain:a,entrypointAddress:i}=t;if(n)return n(e);const s=i??ot.uh,o="v0.6"===(0,ot.Fn)(s)?"v1":"v2",c=(0,ot.RZ)(a,o),u=(0,it.KI)(r),d=await u(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"pm_sponsorUserOperation",params:[ut(e),s]})}),l=await d.json();if(!d.ok){const t=l.error||d.statusText,e=l.code||"UNKNOWN";throw new Error(`Paymaster error: ${t}\nStatus: ${d.status}\nCode: ${e}`)}if(ot.Oi&&console.debug("Paymaster result:",l),l.result)return"string"===typeof l.result?{paymasterAndData:l.result}:{paymasterAndData:l.result.paymasterAndData,verificationGasLimit:l.result.verificationGasLimit?(0,B.uU)(l.result.verificationGasLimit):void 0,preVerificationGas:l.result.preVerificationGas?(0,B.uU)(l.result.preVerificationGas):void 0,callGasLimit:l.result.callGasLimit?(0,B.uU)(l.result.callGasLimit):void 0,paymaster:l.result.paymaster,paymasterData:l.result.paymasterData,paymasterVerificationGasLimit:l.result.paymasterVerificationGasLimit?(0,B.uU)(l.result.paymasterVerificationGasLimit):void 0,paymasterPostOpGasLimit:l.result.paymasterPostOpGasLimit?(0,B.uU)(l.result.paymasterPostOpGasLimit):void 0};const p=l.error?.message||l.error||d.statusText||"unknown error";throw new Error(`Paymaster error from ${c}: ${p}`)}async function Ft(t){const{transaction:e,accountContract:n,factoryContract:r,adminAddress:a,overrides:i,sponsorGas:s}=t,o=e.chain,c=e.client,u={client:c,chain:o,entrypointAddress:i?.entrypointAddress},d=(0,ot.Fn)(t.overrides?.entrypointAddress||ot.uh),[l,p,y,f]=await Promise.all([(0,Ct.isContractDeployed)(n),(0,It.encode)(e),St({executeTx:e,bundlerOptions:u,chain:o,client:c}),Dt({accountContract:n,chain:o,client:c,entrypointAddress:i?.entrypointAddress,getNonceOverride:i?.getAccountNonce})]),{maxFeePerGas:m,maxPriorityFeePerGas:h}=y;return"v0.7"===d?async function(t){const{bundlerOptions:e,isDeployed:n,factoryContract:r,accountContract:a,adminAddress:i,sponsorGas:s,overrides:o,nonce:c,callData:u,maxFeePerGas:d,maxPriorityFeePerGas:l}=t,{chain:p,client:y}=e,f=n?void 0:r.address,m=n?"0x":await(0,It.encode)(yt({factoryContract:r,adminAddress:i,accountSalt:o?.accountSalt,createAccountOverride:o?.createAccount})),h={sender:a.address,nonce:c,callData:u,maxFeePerGas:d,maxPriorityFeePerGas:l,callGasLimit:0n,verificationGasLimit:0n,preVerificationGas:0n,factory:f,factoryData:m,paymaster:void 0,paymasterData:"0x",paymasterVerificationGasLimit:0n,paymasterPostOpGasLimit:0n,signature:ot.km};if(s){const t=await Mt({userOp:h,chain:p,client:y,entrypointAddress:o?.entrypointAddress,paymasterOverride:o?.paymaster});if(t.paymaster&&t.paymasterData&&(h.paymaster=t.paymaster,h.paymasterData=t.paymasterData),t.callGasLimit&&t.verificationGasLimit&&t.preVerificationGas&&t.paymasterPostOpGasLimit&&t.paymasterVerificationGasLimit)h.callGasLimit=t.callGasLimit,h.verificationGasLimit=t.verificationGasLimit,h.preVerificationGas=t.preVerificationGas,h.paymasterPostOpGasLimit=t.paymasterPostOpGasLimit,h.paymasterVerificationGasLimit=t.paymasterVerificationGasLimit;else{const n=await dt({userOp:h,options:e});h.callGasLimit=n.callGasLimit,h.verificationGasLimit=n.verificationGasLimit,h.preVerificationGas=n.preVerificationGas,h.paymasterPostOpGasLimit=t.paymasterPostOpGasLimit||0n,h.paymasterVerificationGasLimit=t.paymasterVerificationGasLimit||0n;const r=await Mt({userOp:h,chain:p,client:y,entrypointAddress:o?.entrypointAddress,paymasterOverride:o?.paymaster});r.paymaster&&r.paymasterData&&(h.paymaster=r.paymaster,h.paymasterData=r.paymasterData)}}else{const t=await dt({userOp:h,options:e});h.callGasLimit=t.callGasLimit,h.verificationGasLimit=t.verificationGasLimit,h.preVerificationGas=t.preVerificationGas,h.paymasterPostOpGasLimit=t.paymasterPostOpGasLimit||0n,h.paymasterVerificationGasLimit=t.paymasterVerificationGasLimit||0n}return{...h,signature:"0x"}}({bundlerOptions:u,factoryContract:r,accountContract:n,adminAddress:a,sponsorGas:s,overrides:i,isDeployed:l,nonce:f,callData:p,maxFeePerGas:m,maxPriorityFeePerGas:h}):async function(t){const{bundlerOptions:e,isDeployed:n,factoryContract:r,accountContract:a,adminAddress:i,sponsorGas:s,overrides:o,nonce:c,callData:u,maxFeePerGas:d,maxPriorityFeePerGas:l}=t,{chain:p,client:y}=e,f=n?"0x":await async function(t){const{factoryContract:e,adminAddress:n,accountSalt:r,createAccountOverride:a}=t,i=yt({factoryContract:e,adminAddress:n,accountSalt:r,createAccountOverride:a});return(0,mt.xW)([e.address,await(0,It.encode)(i)])}({factoryContract:r,adminAddress:i,accountSalt:o?.accountSalt,createAccountOverride:o?.createAccount}),m={sender:a.address,nonce:c,initCode:f,callData:u,maxFeePerGas:d,maxPriorityFeePerGas:l,callGasLimit:0n,verificationGasLimit:0n,preVerificationGas:0n,paymasterAndData:"0x",signature:ot.km};if(s){const t=await Mt({userOp:m,chain:p,client:y,entrypointAddress:o?.entrypointAddress,paymasterOverride:o?.paymaster}),n="paymasterAndData"in t?t.paymasterAndData:"0x";if(n&&"0x"!==n&&(m.paymasterAndData=n),t.callGasLimit&&t.verificationGasLimit&&t.preVerificationGas)m.callGasLimit=t.callGasLimit,m.verificationGasLimit=t.verificationGasLimit,m.preVerificationGas=t.preVerificationGas;else{const t=await dt({userOp:m,options:e});if(m.callGasLimit=t.callGasLimit,m.verificationGasLimit=t.verificationGasLimit,m.preVerificationGas=t.preVerificationGas,n&&"0x"!==n){const t=await Mt({userOp:m,chain:p,client:y,entrypointAddress:o?.entrypointAddress,paymasterOverride:o?.paymaster}),e="paymasterAndData"in t?t.paymasterAndData:"0x";e&&"0x"!==e&&(m.paymasterAndData=e)}}}else{const t=await dt({userOp:m,options:e});m.callGasLimit=t.callGasLimit,m.verificationGasLimit=t.verificationGasLimit,m.preVerificationGas=t.preVerificationGas}return{...m,signature:"0x"}}({bundlerOptions:u,factoryContract:r,accountContract:n,adminAddress:a,sponsorGas:s,overrides:i,isDeployed:l,nonce:f,callData:p,maxFeePerGas:m,maxPriorityFeePerGas:h})}async function St(t){const{executeTx:e,bundlerOptions:n,chain:r,client:a}=t;let{maxFeePerGas:i,maxPriorityFeePerGas:s}=e;const o="v0.6"===(0,ot.Fn)(n.entrypointAddress||ot.uh)?"v1":"v2",c=n?.bundlerUrl??(0,ot.RZ)(r,o);if((0,it.Lj)(c)){const t=await async function(t){const e=await pt({...t,operation:"thirdweb_getUserOperationGasPrice",params:[]});return{maxPriorityFeePerGas:(0,B.uU)(e.maxPriorityFeePerGas),maxFeePerGas:(0,B.uU)(e.maxFeePerGas)}}({options:n});i=t.maxFeePerGas,s=t.maxPriorityFeePerGas}else{const[t,e]=await Promise.all([(0,m.r)(i),(0,m.r)(s)]);if(t&&e)i=t,s=e;else{const n=await(0,Gt.G)(a,r);s=e??n.maxPriorityFeePerGas??0n,i=t??n.maxFeePerGas??0n}}return{maxFeePerGas:i,maxPriorityFeePerGas:s}}async function jt(t){const{userOp:e,chain:n,entrypointAddress:r,adminAccount:a}=t;let i;if("v0.7"===(0,ot.Fn)(r||ot.uh)){const a=Tt(e);i=await async function(t){return(0,o.readContract)({contract:t.contract,method:[Pt,At,$t],params:[t.userOp]})}({contract:(0,s.P)({address:r||ot.nF,chain:n,client:t.client}),userOp:a})}else i=await async function(t){return(0,o.readContract)({contract:t.contract,method:[vt,wt,xt],params:[t.userOp]})}({contract:(0,s.P)({address:r||ot.uh,chain:n,client:t.client}),userOp:e});if(a.signMessage){const t=await a.signMessage({message:{raw:(0,Bt.aT)(i)}});return{...e,signature:t}}throw new Error("signMessage not implemented in signingAccount")}async function Dt(t){const{accountContract:e,chain:n,client:r,entrypointAddress:a,getNonceOverride:i}=t;return i?i(e):async function(t){return(0,o.readContract)({contract:t.contract,method:[ht,gt,bt],params:[t.sender,t.key]})}({contract:(0,s.P)({address:a||ot.uh,chain:n,client:r}),key:ct(),sender:e.address})}const kt=new WeakMap,Vt=new WeakMap;async function _t(t,e,i){const{personalAccount:l,client:p,chain:y}=e;if(!l)throw new Error("Personal wallet does not have an account");const f=i,m=f.factoryAddress??(0,ot.Fd)(i.overrides?.entrypointAddress),h=y??f.chain,g="gasless"in f?f.gasless:f.sponsorGas;if(function(t){return 324===t.id||300===t.id||302===t.id||11124===t.id}(h))return[Wt({creationOptions:i,connectionOptions:e,chain:h,sponsorGas:g}),h];const v=(0,s.P)({client:p,address:m,chain:h}),w=await async function(t){const{factoryContract:e,predictAddressOverride:n,adminAddress:r,accountSalt:a,accountAddress:i}=t;if(n)return n(e);if(i)return i;if(!r)throw new Error("Account address is required to predict the smart wallet address.");const s=(0,B.i3)(a??"");return(0,o.readContract)({contract:e,method:"function getAddress(address, bytes) returns (address)",params:[r,s]})}({factoryContract:v,adminAddress:l.address,predictAddressOverride:f.overrides?.predictAddress,accountSalt:f.overrides?.accountSalt,accountAddress:f.overrides?.accountAddress}).then((t=>t)).catch((t=>{throw new Error(`Failed to get account address with factory contract ${v.address} on chain ID ${h.id}: ${t?.message||"unknown error"}`,{cause:t})})),x=(0,s.P)({client:p,address:w,chain:h}),$=await async function(t){const{accountContract:e}=t,i={address:(0,G.bv)(e.address),async sendTransaction(n){const r=t.overrides?.erc20Paymaster;let i;if(r){await async function(t){const{accountContract:e,erc20Paymaster:n,options:r}=t,i=n.token,l=(0,s.P)({address:i,chain:e.chain,client:e.client}),p=await async function(t){return(0,o.readContract)({contract:t.contract,method:[c,u,d],params:[t.owner,t.spender]})}({contract:l,owner:e.address,spender:n.address});if(p>0n)return;const y=P({contract:l,spender:n.address,amountWei:a.EA-1n}),f=await(0,A.$)({transaction:y,from:e.address}),m=ft({accountContract:e,transaction:f,executeOverride:r.overrides?.execute});await Kt({executeTx:m,options:{...r,overrides:{...r.overrides,erc20Paymaster:void 0}}})}({accountContract:e,erc20Paymaster:r,options:t});const n=async()=>({paymasterAndData:(0,I.concatHex)([r.address,r?.token]),paymaster:r.address,paymasterData:"0x"});i=t.overrides?.paymaster||n}return Kt({executeTx:ft({accountContract:e,transaction:n,executeOverride:t.overrides?.execute}),options:{...t,overrides:{...t.overrides,paymaster:i}}})},async sendBatchTransaction(n){const r=function(t){const{accountContract:e,transactions:n,executeBatchOverride:r}=t;return r?r(e,n):b({contract:e,method:"function executeBatch(address[], uint256[], bytes[])",params:[n.map((t=>t.to||"")),n.map((t=>t.value||0n)),n.map((t=>t.data||"0x"))]})}({accountContract:e,transactions:n,executeBatchOverride:t.overrides?.executeBatch});return Kt({executeTx:r,options:t})},async signMessage(r){let{message:a}=r;const[{isContractDeployed:s},{readContract:o},{encodeAbiParameters:c},{hashMessage:u},{checkContractWalletSignature:d}]=await Promise.all([Promise.resolve().then(n.bind(n,9961)),Promise.resolve().then(n.bind(n,6511)),Promise.resolve().then(n.bind(n,8482)),n.e(524).then(n.bind(n,7143)),n.e(613).then(n.bind(n,3613))]);await s(e)||await Rt({options:t,account:i,accountContract:e});const l=u(a);let p,y=!1;try{await o({contract:e,method:"function getMessageHash(bytes32 _hash) public view returns (bytes32)",params:[l]}),y=!0}catch{}if(y){const n=c([{type:"bytes32"}],[l]);p=await t.personalAccount.signTypedData({domain:{name:"Account",version:"1",chainId:t.chain.id,verifyingContract:e.address},primaryType:"AccountMessage",types:{AccountMessage:[{name:"message",type:"bytes"}]},message:{message:n}})}else p=await t.personalAccount.signMessage({message:a});if(await d({contract:e,message:a,signature:p}))return p;throw new Error("Unable to verify signature on smart account, please make sure the smart account is deployed and the signature is valid.")},async signTypedData(a){const s=E(a),[{isContractDeployed:o},{readContract:c},{encodeAbiParameters:u},{checkContractWalletSignedTypedData:d}]=await Promise.all([Promise.resolve().then(n.bind(n,9961)),Promise.resolve().then(n.bind(n,6511)),Promise.resolve().then(n.bind(n,8482)),n.e(143).then(n.bind(n,8143))]);if(s.domain?.verifyingContract?.toLowerCase()===e.address?.toLowerCase())return t.personalAccount.signTypedData(s);await o(e)||await Rt({options:t,account:i,accountContract:e});const l=(0,r.Zh)(s);let p,y=!1;try{await c({contract:e,method:"function getMessageHash(bytes32 _hash) public view returns (bytes32)",params:[l]}),y=!0}catch{}if(y){const n=u([{type:"bytes32"}],[l]);p=await t.personalAccount.signTypedData({domain:{name:"Account",version:"1",chainId:t.chain.id,verifyingContract:e.address},primaryType:"AccountMessage",types:{AccountMessage:[{name:"message",type:"bytes"}]},message:{message:n}})}else p=await t.personalAccount.signTypedData(s);if(await d({contract:e,data:s,signature:p}))return p;throw new Error("Unable to verify signature on smart account, please make sure the smart account is deployed and the signature is valid.")},onTransactionRequested:async e=>t.personalAccount.onTransactionRequested?.(e)};return i}({...f,chain:h,sponsorGas:g,personalAccount:l,accountContract:x,factoryContract:v,client:p});return kt.set(l,t),Vt.set(t,l),[$,h]}async function Nt(t){const e=Vt.get(t);e&&(kt.delete(e),Vt.delete(t))}function Wt(t){const{creationOptions:e,connectionOptions:n,chain:r}=t,a={address:n.personalAccount.address,async sendTransaction(s){const o={data:s.data,to:s.to??void 0,value:s.value??0n,chain:(0,i.Q4)(s.chainId),client:n.client};let c=await(0,$.f)({account:a,transaction:o});if(t.sponsorGas){const t=await async function(t){const e=await pt({options:t.options,operation:"zk_paymasterData",params:[t.transaction]});return{paymaster:e.paymaster,paymasterInput:e.paymasterInput}}({options:{client:n.client,chain:r,bundlerUrl:e.overrides?.bundlerUrl,entrypointAddress:e.overrides?.entrypointAddress},transaction:c});c={...c,...t}}const u=await(0,$.a)({account:a,chainId:r.id,eip712Transaction:c}),d=await async function(t){return{transactionHash:(await pt({options:t.options,operation:"zk_broadcastTransaction",params:[{...t.transaction,signedTransaction:t.signedTransaction}]})).transactionHash}}({options:{client:n.client,chain:r,bundlerUrl:e.overrides?.bundlerUrl,entrypointAddress:e.overrides?.entrypointAddress},transaction:c,signedTransaction:u});return{transactionHash:d.transactionHash,client:n.client,chain:r}},async signMessage(t){let{message:e}=t;return n.personalAccount.signMessage({message:e})},async signTypedData(t){const e=E(t);return n.personalAccount.signTypedData(e)},onTransactionRequested:async t=>n.personalAccount.onTransactionRequested?.(t)};return a}async function Rt(t){const{options:e,account:r,accountContract:a}=t,[{sendTransaction:i},{prepareTransaction:s}]=await Promise.all([n.e(223).then(n.bind(n,6223)),Promise.resolve().then(n.bind(n,1300))]),o=s({client:e.client,chain:e.chain,to:a.address,value:0n,gas:50000n});return await i({transaction:o,account:r})}async function Kt(t){const{executeTx:e,options:n}=t,r=await Ft({transaction:e,factoryContract:n.factoryContract,accountContract:n.accountContract,adminAddress:n.personalAccount.address,sponsorGas:n.sponsorGas,overrides:n.overrides}),a=await jt({client:n.client,chain:n.chain,adminAccount:n.personalAccount,entrypointAddress:n.overrides?.entrypointAddress,userOp:r}),i={chain:n.chain,client:n.client,bundlerUrl:n.overrides?.bundlerUrl,entrypointAddress:n.overrides?.entrypointAddress},s=await async function(t){return pt({...t,operation:"eth_sendUserOperation",params:[ut(t.userOp),t.options.entrypointAddress??ot.uh]})}({options:i,userOp:a}),o=await async function(t){const e=t.timeoutMs||12e4,n=t.intervalMs||1e3,r=Date.now()+e;for(;Date.now()<r;){const e=await lt(t);if(e)return e;await new Promise((t=>setTimeout(t,n)))}throw new Error("Timeout waiting for userOp to be mined")}({...n,userOpHash:s});return{client:n.client,chain:n.chain,transactionHash:o.transactionHash}}},8635:(t,e,n)=>{n.d(e,{C:()=>r});class r extends Error{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.cause instanceof r?e.cause.details:e.cause?.message?e.cause.message:e.details,a=e.cause instanceof r&&e.cause.docsPath||e.docsPath;super([t||"An error occurred.","",...e.metaMessages?[...e.metaMessages,""]:[],...a?[`Docs: https://abitype.dev${a}`]:[],...n?[`Details: ${n}`]:[],"Version: abitype@1.0.5"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),e.cause&&(this.cause=e.cause),this.details=n,this.docsPath=a,this.metaMessages=e.metaMessages,this.shortMessage=t}}},7191:(t,e,n)=>{n.d(e,{UG:()=>s,xo:()=>a,zz:()=>i});var r=n(8635);class a extends r.C{constructor(t){let{signature:e}=t;super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class i extends r.C{constructor(t){let{type:e}=t;super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class s extends r.C{constructor(t){let{type:e}=t;super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}},7001:(t,e,n)=>{n.d(e,{NO:()=>s,Pj:()=>o,dV:()=>a,nx:()=>c,zd:()=>i});var r=n(8635);r.C;r.C;class a extends r.C{constructor(t){let{param:e}=t;super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class i extends r.C{constructor(t){let{param:e,name:n}=t;super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class s extends r.C{constructor(t){let{param:e,type:n,modifier:r}=t;super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class o extends r.C{constructor(t){let{param:e,type:n,modifier:r}=t;super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class c extends r.C{constructor(t){let{abiParameter:e}=t;super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}},6244:(t,e,n)=>{n.d(e,{X9:()=>s,s7:()=>a,x8:()=>i});var r=n(8635);class a extends r.C{constructor(t){let{signature:e,type:n}=t;super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class i extends r.C{constructor(t){let{signature:e}=t;super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class s extends r.C{constructor(t){let{signature:e}=t;super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}},2365:(t,e,n)=>{n.d(e,{B:()=>o});var r=n(1716);const a=/^tuple(?<array>(\[(\d*)\])*)$/;function i(t){let e=t.type;if(a.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let r=0;r<n;r++){e+=i(t.components[r]),r<n-1&&(e+=", ")}const s=(0,r.Yv)(a,t.type);return e+=`)${s?.array??""}`,i({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function s(t){let e="";const n=t.length;for(let r=0;r<n;r++){e+=i(t[r]),r!==n-1&&(e+=", ")}return e}function o(t){return"function"===t.type?`function ${t.name}(${s(t.inputs)})${t.stateMutability&&"nonpayable"!==t.stateMutability?` ${t.stateMutability}`:""}${t.outputs.length?` returns (${s(t.outputs)})`:""}`:"event"===t.type?`event ${t.name}(${s(t.inputs)})`:"error"===t.type?`error ${t.name}(${s(t.inputs)})`:"constructor"===t.type?`constructor(${s(t.inputs)})${"payable"===t.stateMutability?" payable":""}`:"fallback"===t.type?"fallback()":"receive() external payable"}},970:(t,e,n)=>{n.d(e,{$:()=>o});var r=n(7191),a=n(9036),i=n(8112),s=n(2381);function o(t){let e;if("string"===typeof t)e=(0,s.uT)(t);else{const n=(0,i.e)(t),r=t.length;for(let i=0;i<r;i++){const r=t[i];if(!(0,a.WL)(r)){e=(0,s.uT)(r,n);break}}}if(!e)throw new r.xo({signature:t});return e}},9036:(t,e,n)=>{n.d(e,{FO:()=>m,Ji:()=>l,Rv:()=>c,WL:()=>f,Yo:()=>b,ej:()=>p,fC:()=>A,iB:()=>u,kz:()=>s,l9:()=>g,pc:()=>i,sP:()=>P,v7:()=>$,v8:()=>w});var r=n(1716);const a=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function i(t){return a.test(t)}function s(t){return(0,r.Yv)(a,t)}const o=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function c(t){return o.test(t)}function u(t){return(0,r.Yv)(o,t)}const d=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function l(t){return d.test(t)}function p(t){return(0,r.Yv)(d,t)}const y=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function f(t){return y.test(t)}function m(t){return(0,r.Yv)(y,t)}const h=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function g(t){return h.test(t)}function b(t){return(0,r.Yv)(h,t)}const v=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function w(t){return v.test(t)}const x=/^receive\(\) external payable$/;function P(t){return x.test(t)}new Set(["memory","indexed","storage","calldata"]);const A=new Set(["indexed"]),$=new Set(["calldata","memory","storage"])},8112:(t,e,n)=>{n.d(e,{e:()=>l});var r=n(1716),a=n(7191),i=n(7001),s=n(6244),o=n(8635);class c extends o.C{constructor(t){let{type:e}=t;super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}var u=n(9036),d=n(2381);function l(t){const e={},n=t.length;for(let o=0;o<n;o++){const n=t[o];if(!(0,u.WL)(n))continue;const r=(0,u.FO)(n);if(!r)throw new s.s7({signature:n,type:"struct"});const a=r.properties.split(";"),i=[],c=a.length;for(let t=0;t<c;t++){const e=a[t].trim();if(!e)continue;const n=(0,d.Pj)(e,{type:"struct"});i.push(n)}if(!i.length)throw new s.X9({signature:n});e[r.name]=i}const r={},a=Object.entries(e),i=a.length;for(let s=0;s<i;s++){const[t,n]=a[s];r[t]=y(n,e)}return r}const p=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function y(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;const s=[],o=t.length;for(let u=0;u<o;u++){const o=t[u];if(r.wj.test(o.type))s.push(o);else{const t=(0,r.Yv)(p,o.type);if(!t?.type)throw new i.nx({abiParameter:o});const{array:u,type:l}=t;if(l in e){if(n.has(l))throw new c({type:l});s.push({...o,type:`tuple${u??""}`,components:y(e[l]??[],e,new Set([...n,l]))})}else{if(!(0,d._o)(l))throw new a.zz({type:l});s.push(o)}}}return s}},2381:(t,e,n)=>{n.d(e,{_o:()=>g,Pj:()=>m,uT:()=>l});var r=n(1716),a=n(7191),i=n(7001),s=n(6244),o=n(8635);class c extends o.C{constructor(t){let{current:e,depth:n}=t;super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}const u=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);var d=n(9036);function l(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,d.Ji)(t)){const n=(0,d.ej)(t);if(!n)throw new s.s7({signature:t,type:"function"});const r=h(n.parameters),a=[],i=r.length;for(let t=0;t<i;t++)a.push(m(r[t],{modifiers:d.v7,structs:e,type:"function"}));const o=[];if(n.returns){const t=h(n.returns),r=t.length;for(let n=0;n<r;n++)o.push(m(t[n],{modifiers:d.v7,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:a,outputs:o}}if((0,d.Rv)(t)){const n=(0,d.iB)(t);if(!n)throw new s.s7({signature:t,type:"event"});const r=h(n.parameters),a=[],i=r.length;for(let t=0;t<i;t++)a.push(m(r[t],{modifiers:d.fC,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:a}}if((0,d.pc)(t)){const n=(0,d.kz)(t);if(!n)throw new s.s7({signature:t,type:"error"});const r=h(n.parameters),a=[],i=r.length;for(let t=0;t<i;t++)a.push(m(r[t],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:a}}if((0,d.l9)(t)){const n=(0,d.Yo)(t);if(!n)throw new s.s7({signature:t,type:"constructor"});const r=h(n.parameters),a=[],i=r.length;for(let t=0;t<i;t++)a.push(m(r[t],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:a}}if((0,d.v8)(t))return{type:"fallback"};if((0,d.sP)(t))return{type:"receive",stateMutability:"payable"};throw new s.x8({signature:t})}const p=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,y=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,f=/^u?int$/;function m(t,e){const n=function(t,e){return e?`${e}:${t}`:t}(t,e?.type);if(u.has(n))return u.get(n);const s=r.wj.test(t),o=(0,r.Yv)(s?y:p,t);if(!o)throw new i.dV({param:t});if(o.name&&function(t){return"address"===t||"bool"===t||"function"===t||"string"===t||"tuple"===t||r.BD.test(t)||r.Ge.test(t)||b.test(t)}(o.name))throw new i.zd({param:t,name:o.name});const c=o.name?{name:o.name}:{},l="indexed"===o.modifier?{indexed:!0}:{},v=e?.structs??{};let w,x={};if(s){w="tuple";const t=h(o.type),e=[],n=t.length;for(let r=0;r<n;r++)e.push(m(t[r],{structs:v}));x={components:e}}else if(o.type in v)w="tuple",x={components:v[o.type]};else if(f.test(o.type))w=`${o.type}256`;else if(w=o.type,"struct"!==e?.type&&!g(w))throw new a.UG({type:w});if(o.modifier){if(!e?.modifiers?.has?.(o.modifier))throw new i.NO({param:t,type:e?.type,modifier:o.modifier});if(d.v7.has(o.modifier)&&!function(t,e){return e||"bytes"===t||"string"===t||"tuple"===t}(w,!!o.array))throw new i.Pj({param:t,type:e?.type,modifier:o.modifier})}const P={type:`${w}${o.array??""}`,...c,...l,...x};return u.set(n,P),P}function h(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const a=t.trim().length;for(let i=0;i<a;i++){const a=t[i],s=t.slice(i+1);switch(a){case",":return 0===r?h(s,[...e,n.trim()]):h(s,e,`${n}${a}`,r);case"(":return h(s,e,`${n}${a}`,r+1);case")":return h(s,e,`${n}${a}`,r-1);default:return h(s,e,`${n}${a}`,r)}}if(""===n)return e;if(0!==r)throw new c({current:n,depth:r});return e.push(n.trim()),e}function g(t){return"address"===t||"bool"===t||"function"===t||"string"===t||r.BD.test(t)||r.Ge.test(t)}const b=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/},1716:(t,e,n)=>{function r(t,e){const n=t.exec(e);return n?.groups}n.d(e,{BD:()=>a,Ge:()=>i,Yv:()=>r,wj:()=>s});const a=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,i=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,s=/^\(.+?\).*?$/},7913:(t,e,n)=>{n.d(e,{Au:()=>r,EA:()=>a});const r=65535n,a=2n**96n-1n},6356:(t,e,n)=>{n.d(e,{BI:()=>h,Iy:()=>s,M_:()=>f,Nc:()=>c,O:()=>o,Wq:()=>l,YE:()=>d,_z:()=>p,d_:()=>P,dm:()=>x,fo:()=>g,gH:()=>u,j:()=>w,kE:()=>y,l3:()=>b,nK:()=>v,nM:()=>m});var r=n(3303),a=n(2678),i=n(6109);i.C;i.C;i.C;class s extends i.C{constructor(t){let{data:e,params:n,size:a}=t;super([`Data size of ${a} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${(0,r.A)(n,{includeName:!0})})`,`Data:   ${e} (${a} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=a}}class o extends i.C{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class c extends i.C{constructor(t){let{expectedLength:e,givenLength:n,type:r}=t;super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join("\n"),{name:"AbiEncodingArrayLengthMismatchError"})}}class u extends i.C{constructor(t){let{expectedSize:e,value:n}=t;super(`Size of bytes "${n}" (bytes${(0,a.E)(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class d extends i.C{constructor(t){let{expectedLength:e,givenLength:n}=t;super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join("\n"),{name:"AbiEncodingLengthMismatchError"})}}i.C;i.C;class l extends i.C{constructor(t,e){let{docsPath:n}=e;super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join("\n"),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class p extends i.C{constructor(t){let{docsPath:e}=t;super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class y extends i.C{constructor(t,e){let{docsPath:n}=e;super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join("\n"),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class f extends i.C{constructor(t){let{docsPath:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:e,name:"AbiEventNotFoundError"})}}i.C;i.C;i.C;class m extends i.C{constructor(t,e){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${(0,r.B)(t.abiItem)}\`, and`,`\`${e.type}\` in \`${(0,r.B)(e.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class h extends i.C{constructor(t){let{expectedSize:e,givenSize:n}=t;super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class g extends i.C{constructor(t){let{abiItem:e,data:n,params:a,size:i}=t;super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${(0,r.A)(a,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=a,this.size=i}}class b extends i.C{constructor(t){let{abiItem:e,param:n}=t;super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${(0,r.B)(e,{includeName:!0})}".`].join("\n"),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class v extends i.C{constructor(t,e){let{docsPath:n}=e;super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:n,name:"InvalidAbiEncodingType"})}}class w extends i.C{constructor(t,e){let{docsPath:n}=e;super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:n,name:"InvalidAbiDecodingType"})}}class x extends i.C{constructor(t){super([`Value "${t}" is not a valid array.`].join("\n"),{name:"InvalidArrayError"})}}class P extends i.C{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n"),{name:"InvalidDefinitionTypeError"})}}i.C},8202:(t,e,n)=>{n.d(e,{M:()=>a});var r=n(6109);class a extends r.C{constructor(t){let{address:e}=t;super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}},3546:(t,e,n)=>{n.d(e,{B4:()=>a,SK:()=>i,hX:()=>s});var r=n(6109);class a extends r.C{constructor(t){let{offset:e}=t;super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class i extends r.C{constructor(t){let{length:e,position:n}=t;super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class s extends r.C{constructor(t){let{count:e,limit:n}=t;super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}},2560:(t,e,n)=>{n.d(e,{Fl:()=>i,ii:()=>a});var r=n(6109);class a extends r.C{constructor(t){let{offset:e,position:n,size:r}=t;super(`Slice ${"start"===n?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class i extends r.C{constructor(t){let{size:e,targetSize:n,type:r}=t;super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}r.C},2777:(t,e,n)=>{n.d(e,{n:()=>b});var r=n(6356),a=n(1937),i=n(7714),s=n(2678),o=n(9057);function c(t){let{dir:e="left"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="string"===typeof t?t.replace("0x",""):t,r=0;for(let a=0;a<n.length-1&&"0"===n["left"===e?a:n.length-a-1].toString();a++)r++;return n="left"===e?n.slice(r):n.slice(0,n.length-r),"string"===typeof t?(1===n.length&&"right"===e&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}var u=n(9205),d=n(9515),l=n(4776);function p(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"undefined"!==typeof e.size&&(0,d.Sl)(t,{size:e.size});const n=(0,l.My)(t,e);return(0,d.uU)(n,e)}function y(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("undefined"!==typeof e.size&&((0,d.Sl)(n,{size:e.size}),n=c(n)),n.length>1||n[0]>1)throw new u.xO(n);return Boolean(n[0])}function f(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"undefined"!==typeof e.size&&(0,d.Sl)(t,{size:e.size});const n=(0,l.My)(t,e);return(0,d.ME)(n,e)}function m(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;return"undefined"!==typeof e.size&&((0,d.Sl)(n,{size:e.size}),n=c(n,{dir:"right"})),(new TextDecoder).decode(n)}var h=n(9466),g=n(1595);function b(t,e){const n="string"===typeof e?(0,h.aT)(e):e,a=(0,i.l)(n);if(0===(0,s.E)(n)&&t.length>0)throw new r.O;if((0,s.E)(e)&&(0,s.E)(e)<32)throw new r.Iy({data:"string"===typeof e?e:(0,l.My)(e),params:t,size:(0,s.E)(e)});let o=0;const c=[];for(let r=0;r<t.length;++r){const e=t[r];a.setPosition(o);const[n,i]=v(a,e,{staticPosition:0});o+=i,c.push(n)}return c}function v(t,e,n){let{staticPosition:i}=n;const s=(0,g.k)(e.type);if(s){const[n,r]=s;return function(t,e,n){let{length:r,staticPosition:a}=n;if(!r){const n=a+f(t.readBytes(x)),r=n+w;t.setPosition(n);const i=f(t.readBytes(w)),s=P(e);let o=0;const c=[];for(let a=0;a<i;++a){t.setPosition(r+(s?32*a:o));const[n,i]=v(t,e,{staticPosition:r});o+=i,c.push(n)}return t.setPosition(a+32),[c,32]}if(P(e)){const n=a+f(t.readBytes(x)),i=[];for(let a=0;a<r;++a){t.setPosition(n+32*a);const[r]=v(t,e,{staticPosition:n});i.push(r)}return t.setPosition(a+32),[i,32]}let i=0;const s=[];for(let o=0;o<r;++o){const[n,r]=v(t,e,{staticPosition:a+i});i+=r,s.push(n)}return[s,i]}(t,{...e,type:r},{length:n,staticPosition:i})}if("tuple"===e.type)return function(t,e,n){let{staticPosition:r}=n;const a=0===e.components.length||e.components.some((t=>{let{name:e}=t;return!e})),i=a?[]:{};let s=0;if(P(e)){const n=r+f(t.readBytes(x));for(let r=0;r<e.components.length;++r){const o=e.components[r];t.setPosition(n+s);const[c,u]=v(t,o,{staticPosition:n});s+=u,i[a?r:o?.name]=c}return t.setPosition(r+32),[i,32]}for(let o=0;o<e.components.length;++o){const n=e.components[o],[c,u]=v(t,n,{staticPosition:r});i[a?o:n?.name]=c,s+=u}return[i,s]}(t,e,{staticPosition:i});if("address"===e.type)return function(t){const e=t.readBytes(32);return[(0,a.o)((0,l.My)((0,o.A1)(e,-20))),32]}(t);if("bool"===e.type)return function(t){return[y(t.readBytes(32),{size:32}),32]}(t);if(e.type.startsWith("bytes"))return function(t,e,n){let{staticPosition:r}=n;const[a,i]=e.type.split("bytes");if(!i){const e=f(t.readBytes(32));t.setPosition(r+e);const n=f(t.readBytes(32));if(0===n)return t.setPosition(r+32),["0x",32];const a=t.readBytes(n);return t.setPosition(r+32),[(0,l.My)(a),32]}const s=(0,l.My)(t.readBytes(Number.parseInt(i),32));return[s,32]}(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return function(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),a=t.readBytes(32);return[r>48?p(a,{signed:n}):f(a,{signed:n}),32]}(t,e);if("string"===e.type)return function(t,e){let{staticPosition:n}=e;const r=f(t.readBytes(32)),a=n+r;t.setPosition(a);const i=f(t.readBytes(32));if(0===i)return t.setPosition(n+32),["",32];const s=t.readBytes(i,32),o=m(c(s));return t.setPosition(n+32),[o,32]}(t,{staticPosition:i});throw new r.j(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const w=32,x=32;function P(t){const{type:e}=t;if("string"===e)return!0;if("bytes"===e)return!0;if(e.endsWith("[]"))return!0;if("tuple"===e)return t.components?.some(P);const n=(0,g.k)(t.type);return!(!n||!P({...t,type:n[1]}))}},1750:(t,e,n)=>{n.d(e,{W:()=>d});const r={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},a={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};var i=n(6356),s=n(9057),o=n(4591),c=n(2777),u=n(3303);function d(t){const{abi:e,data:n}=t,d=(0,s.di)(n,0,4);if("0x"===d)throw new i.O;const l=[...e||[],r,a].find((t=>"error"===t.type&&d===(0,o.V)((0,u.B)(t))));if(!l)throw new i.Wq(d,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:l,args:"inputs"in l&&l.inputs&&l.inputs.length>0?(0,c.n)(l.inputs,(0,s.di)(n,4)):void 0,errorName:l.name}}},1595:(t,e,n)=>{n.d(e,{h:()=>p,k:()=>m});var r=n(6356),a=n(8202),i=n(6109),s=n(3593),o=n(883),c=n(9394),u=n(2678),d=n(9057),l=n(4776);function p(t,e){if(t.length!==e.length)throw new r.YE({expectedLength:t.length,givenLength:e.length});const n=function(t){let{params:e,values:n}=t;const r=[];for(let a=0;a<e.length;a++)r.push(y({param:e[a],value:n[a]}));return r}({params:t,values:e}),a=f(n);return 0===a.length?"0x":a}function y(t){let{param:e,value:n}=t;const p=m(e.type);if(p){const[t,a]=p;return function(t,e){let{length:n,param:a}=e;const i=null===n;if(!Array.isArray(t))throw new r.dm(t);if(!i&&t.length!==n)throw new r.Nc({expectedLength:n,givenLength:t.length,type:`${a.type}[${n}]`});let s=!1;const c=[];for(let r=0;r<t.length;r++){const e=y({param:a,value:t[r]});e.dynamic&&(s=!0),c.push(e)}if(i||s){const t=f(c);if(i){const e=(0,l.cK)(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?(0,o.xW)([e,t]):e}}if(s)return{dynamic:!0,encoded:t}}return{dynamic:!1,encoded:(0,o.xW)(c.map((t=>{let{encoded:e}=t;return e})))}}(n,{length:t,param:{...e,type:a}})}if("tuple"===e.type)return function(t,e){let{param:n}=e,r=!1;const a=[];for(let i=0;i<n.components.length;i++){const e=n.components[i],s=y({param:e,value:t[Array.isArray(t)?i:e.name]});a.push(s),s.dynamic&&(r=!0)}return{dynamic:r,encoded:r?f(a):(0,o.xW)(a.map((t=>{let{encoded:e}=t;return e})))}}(n,{param:e});if("address"===e.type)return function(t){if(!(0,s.P)(t))throw new a.M({address:t});return{dynamic:!1,encoded:(0,c.db)(t.toLowerCase())}}(n);if("bool"===e.type)return function(t){if("boolean"!==typeof t)throw new i.C(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,c.db)((0,l.$P)(t))}}(n);if(e.type.startsWith("uint")||e.type.startsWith("int")){return function(t,e){let{signed:n}=e;return{dynamic:!1,encoded:(0,l.cK)(t,{size:32,signed:n})}}(n,{signed:e.type.startsWith("int")})}if(e.type.startsWith("bytes"))return function(t,e){let{param:n}=e;const[,a]=n.type.split("bytes"),i=(0,u.E)(t);if(!a){let e=t;return i%32!==0&&(e=(0,c.db)(e,{dir:"right",size:32*Math.ceil((t.length-2)/2/32)})),{dynamic:!0,encoded:(0,o.xW)([(0,c.db)((0,l.cK)(i,{size:32})),e])}}if(i!==Number.parseInt(a))throw new r.gH({expectedSize:Number.parseInt(a),value:t});return{dynamic:!1,encoded:(0,c.db)(t,{dir:"right"})}}(n,{param:e});if("string"===e.type)return function(t){const e=(0,l.i3)(t),n=Math.ceil((0,u.E)(e)/32),r=[];for(let a=0;a<n;a++)r.push((0,c.db)((0,d.di)(e,32*a,32*(a+1)),{dir:"right"}));return{dynamic:!0,encoded:(0,o.xW)([(0,c.db)((0,l.cK)((0,u.E)(e),{size:32})),...r])}}(n);throw new r.nK(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function f(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:n,encoded:r}=t[i];e+=n?32:(0,u.E)(r)}const n=[],r=[];let a=0;for(let i=0;i<t.length;i++){const{dynamic:s,encoded:o}=t[i];s?(n.push((0,l.cK)(e+a,{size:32})),r.push(o),a+=(0,u.E)(o)):n.push(o)}return(0,o.xW)([...n,...r])}function m(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}},3303:(t,e,n)=>{n.d(e,{A:()=>i,B:()=>a});var r=n(6356);function a(t){let{includeName:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!==t.type&&"event"!==t.type&&"error"!==t.type)throw new r.d_(t.type);return`${t.name}(${i(t.inputs,{includeName:e})})`}function i(t){let{includeName:e=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t?t.map((t=>function(t,e){let{includeName:n}=e;if(t.type.startsWith("tuple"))return`(${i(t.components,{includeName:n})})${t.type.slice(5)}`;return t.type+(n&&t.name?` ${t.name}`:"")}(t,{includeName:e}))).join(e?", ":","):""}},1937:(t,e,n)=>{n.d(e,{o:()=>s});var r=n(9466),a=n(2096);const i=new(n(5351).A)(8192);function s(t,e){if(i.has(`${t}.${e}`))return i.get(`${t}.${e}`);const n=e?`${e}${t.toLowerCase()}`:t.substring(2).toLowerCase(),s=(0,a.S)((0,r.Af)(n),"bytes"),o=(e?n.substring(`${e}0x`.length):n).split("");for(let r=0;r<40;r+=2)s[r>>1]>>4>=8&&o[r]&&(o[r]=o[r].toUpperCase()),(15&s[r>>1])>=8&&o[r+1]&&(o[r+1]=o[r+1].toUpperCase());const c=`0x${o.join("")}`;return i.set(`${t}.${e}`,c),c}},3593:(t,e,n)=>{n.d(e,{P:()=>o});var r=n(5351),a=n(1937);const i=/^0x[a-fA-F0-9]{40}$/,s=new r.A(8192);function o(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(s.has(r))return s.get(r);const o=!!i.test(t)&&(t.toLowerCase()===t||!n||(0,a.o)(t)===t);return s.set(r,o),o}},7714:(t,e,n)=>{n.d(e,{l:()=>i});var r=n(3546);const a={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new r.hX({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new r.SK({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new r.B4({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new r.B4({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,255&t),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function i(t){let{recursiveReadLimit:e=8192}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.create(a);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}},883:(t,e,n)=>{function r(t){return"string"===typeof t[0]?function(t){return`0x${t.reduce(((t,e)=>t+e.replace("0x","")),"")}`}(t):function(t){let e=0;for(const a of t)e+=a.length;const n=new Uint8Array(e);let r=0;for(const a of t)n.set(a,r),r+=a.length;return n}(t)}n.d(e,{xW:()=>r})},9394:(t,e,n)=>{n.d(e,{db:()=>i,eV:()=>a});var r=n(2560);function a(t){let{dir:e,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof t?i(t,{dir:e,size:n}):function(t){let{dir:e,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===n)return t;if(t.length>n)throw new r.Fl({size:t.length,targetSize:n,type:"bytes"});const a=new Uint8Array(n);for(let r=0;r<n;r++){const i="right"===e;a[i?r:n-r-1]=t[i?r:t.length-r-1]}return a}(t,{dir:e,size:n})}function i(t){let{dir:e,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===n)return t;const a=t.replace("0x","");if(a.length>2*n)throw new r.Fl({size:Math.ceil(a.length/2),targetSize:n,type:"hex"});return`0x${a["right"===e?"padEnd":"padStart"](2*n,"0")}`}},9057:(t,e,n)=>{n.d(e,{A1:()=>u,di:()=>s});var r=n(2560),a=n(1874),i=n(2678);function s(t,e,n){let{strict:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,a.q)(t,{strict:!1})?function(t,e,n){let{strict:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o(t,e);const a=`0x${t.replace("0x","").slice(2*(e??0),2*(n??t.length))}`;r&&c(a,e,n);return a}(t,e,n,{strict:r}):u(t,e,n,{strict:r})}function o(t,e){if("number"===typeof e&&e>0&&e>(0,i.E)(t)-1)throw new r.ii({offset:e,position:"start",size:(0,i.E)(t)})}function c(t,e,n){if("number"===typeof e&&"number"===typeof n&&(0,i.E)(t)!==n-e)throw new r.ii({offset:n,position:"end",size:(0,i.E)(t)})}function u(t,e,n){let{strict:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o(t,e);const a=t.slice(e,n);return r&&c(a,e,n),a}},9466:(t,e,n)=>{n.d(e,{Af:()=>y,ZJ:()=>u,aT:()=>p});var r=n(6109),a=n(1874),i=n(9394),s=n(9515),o=n(4776);const c=new TextEncoder;function u(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof t||"bigint"===typeof t?function(t,e){const n=(0,o.cK)(t,e);return p(n)}(t,e):"boolean"===typeof t?function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new Uint8Array(1);if(n[0]=Number(t),"number"===typeof e.size)return(0,s.Sl)(n,{size:e.size}),(0,i.eV)(n,{size:e.size});return n}(t,e):(0,a.q)(t)?p(t,e):y(t,e)}const d={zero:48,nine:57,A:65,F:70,a:97,f:102};function l(t){return t>=d.zero&&t<=d.nine?t-d.zero:t>=d.A&&t<=d.F?t-(d.A-10):t>=d.a&&t<=d.f?t-(d.a-10):void 0}function p(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;e.size&&((0,s.Sl)(n,{size:e.size}),n=(0,i.eV)(n,{dir:"right",size:e.size}));let a=n.slice(2);a.length%2&&(a=`0${a}`);const o=a.length/2,c=new Uint8Array(o);for(let i=0,s=0;i<o;i++){const t=l(a.charCodeAt(s++)),e=l(a.charCodeAt(s++));if(void 0===t||void 0===e)throw new r.C(`Invalid byte sequence ("${a[s-2]}${a[s-1]}" in "${a}").`);c[i]=16*t+e}return c}function y(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=c.encode(t);return"number"===typeof e.size?((0,s.Sl)(n,{size:e.size}),(0,i.eV)(n,{dir:"right",size:e.size})):n}},4776:(t,e,n)=>{n.d(e,{$P:()=>c,My:()=>u,cK:()=>d,i3:()=>p,nj:()=>o});var r=n(9205),a=n(9394),i=n(9515);const s=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof t||"bigint"===typeof t?d(t,e):"string"===typeof t?p(t,e):"boolean"===typeof t?c(t,e):u(t,e)}function c(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=`0x${Number(t)}`;return"number"===typeof e.size?((0,i.Sl)(n,{size:e.size}),(0,a.eV)(n,{size:e.size})):n}function u(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";for(let a=0;a<t.length;a++)n+=s[t[a]];const r=`0x${n}`;return"number"===typeof e.size?((0,i.Sl)(r,{size:e.size}),(0,a.eV)(r,{dir:"right",size:e.size})):r}function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:n,size:i}=e,s=BigInt(t);let o;i?o=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"===typeof t&&(o=BigInt(Number.MAX_SAFE_INTEGER));const c="bigint"===typeof o&&n?-o-1n:0;if(o&&s>o||s<c){const e="bigint"===typeof t?"n":"";throw new r.Ty({max:o?`${o}${e}`:void 0,min:`${c}${e}`,signed:n,size:i,value:`${t}${e}`})}const u=`0x${(n&&s<0?(1n<<BigInt(8*i))+BigInt(s):s).toString(16)}`;return i?(0,a.eV)(u,{size:i}):u}const l=new TextEncoder;function p(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u(l.encode(t),e)}},2096:(t,e,n)=>{n.d(e,{S:()=>o});var r=n(4874),a=n(1874),i=n(9466),s=n(4776);function o(t,e){const n=e||"hex",o=(0,r.lY)((0,a.q)(t,{strict:!1})?(0,i.ZJ)(t):t);return"bytes"===n?o:(0,s.nj)(o)}},4591:(t,e,n)=>{n.d(e,{V:()=>i});var r=n(9057),a=n(7401);const i=t=>(0,r.di)((0,a.k)(t),0,4)},7401:(t,e,n)=>{n.d(e,{k:()=>u});var r=n(9466),a=n(2096);const i=t=>(0,a.S)((0,r.ZJ)(t));var s=n(2365),o=n(6109);const c=t=>function(t){let e=!0,n="",r=0,a="",i=!1;for(let s=0;s<t.length;s++){const o=t[s];if(["(",")",","].includes(o)&&(e=!0),"("===o&&r++,")"===o&&r--,e)if(0!==r)" "!==o?(a+=o,n+=o):","!==t[s-1]&&","!==n&&",("!==n&&(n="",e=!1);else if(" "===o&&["event","function",""].includes(a))a="";else if(a+=o,")"===o){i=!0;break}}if(!i)throw new o.C("Unable to normalize signature.");return a}("string"===typeof t?t:(0,s.B)(t));function u(t){return e=c(t),i(e);var e}},5351:(t,e,n)=>{n.d(e,{A:()=>r});class r extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}set(t,e){return super.set(t,e),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}},235:(t,e,n)=>{n.d(e,{Zh:()=>f});var r=n(1595),a=n(883),i=n(4776),s=n(2096),o=n(6356),c=n(8202),u=n(3593),d=n(2678);const l=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,p=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function y(t){let{domain:e}=t;return["string"===typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},"number"===typeof e?.chainId&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function f(t){const{domain:e={},message:n,primaryType:r}=t,f={EIP712Domain:y({domain:e}),...t.types};!function(t){const{domain:e,message:n,primaryType:r,types:a}=t,s=(t,e)=>{for(const n of t){const{name:t,type:r}=n,y=e[t],f=r.match(p);if(f&&("number"===typeof y||"bigint"===typeof y)){const[t,e,n]=f;(0,i.cK)(y,{signed:"int"===e,size:Number.parseInt(n)/8})}if("address"===r&&"string"===typeof y&&!(0,u.P)(y))throw new c.M({address:y});const m=r.match(l);if(m){const[t,e]=m;if(e&&(0,d.E)(y)!==Number.parseInt(e))throw new o.BI({expectedSize:Number.parseInt(e),givenSize:(0,d.E)(y)})}const h=a[r];h&&s(h,y)}};a.EIP712Domain&&e&&s(a.EIP712Domain,e),"EIP712Domain"!==r&&s(a[r],n)}({domain:e,message:n,primaryType:r,types:f});const h=["0x1901"];return e&&h.push(function(t){let{domain:e,types:n}=t;return m({data:e,primaryType:"EIP712Domain",types:n})}({domain:e,types:f})),"EIP712Domain"!==r&&h.push(m({data:n,primaryType:r,types:f})),(0,s.S)((0,a.xW)(h))}function m(t){let{data:e,primaryType:n,types:r}=t;const a=h({data:e,primaryType:n,types:r});return(0,s.S)(a)}function h(t){let{data:e,primaryType:n,types:a}=t;const i=[{type:"bytes32"}],s=[g({primaryType:n,types:a})];for(const r of a[n]){const[t,n]=v({types:a,name:r.name,type:r.type,value:e[r.name]});i.push(t),s.push(n)}return(0,r.h)(i,s)}function g(t){let{primaryType:e,types:n}=t;const r=(0,i.nj)(function(t){let{primaryType:e,types:n}=t,r="";const a=b({primaryType:e,types:n});a.delete(e);const i=[e,...Array.from(a).sort()];for(const s of i)r+=`${s}(${n[s].map((t=>{let{name:e,type:n}=t;return`${n} ${e}`})).join(",")})`;return r}({primaryType:e,types:n}));return(0,s.S)(r)}function b(t){let{primaryType:e,types:n}=t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;const a=e.match(/^\w*/u),i=a?.[0];if(r.has(i)||void 0===n[i])return r;r.add(i);for(const s of n[i])b({primaryType:s.type,types:n},r);return r}function v(t){let{types:e,name:n,type:a,value:o}=t;if(void 0!==e[a])return[{type:"bytes32"},(0,s.S)(h({data:o,primaryType:a,types:e}))];if("bytes"===a){return o=`0x${(o.length%2?"0":"")+o.slice(2)}`,[{type:"bytes32"},(0,s.S)(o)]}if("string"===a)return[{type:"bytes32"},(0,s.S)((0,i.nj)(o))];if(a.lastIndexOf("]")===a.length-1){const t=a.slice(0,a.lastIndexOf("[")),i=o.map((r=>v({name:n,type:t,types:e,value:r})));return[{type:"bytes32"},(0,s.S)((0,r.h)(i.map((t=>{let[e]=t;return e})),i.map((t=>{let[,e]=t;return e}))))]}return[{type:a},o]}}}]);
//# sourceMappingURL=99.93ded87a.chunk.js.map